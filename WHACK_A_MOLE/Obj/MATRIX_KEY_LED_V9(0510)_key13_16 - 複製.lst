                  AlphaASM(5A) v1.31 Title
AlphaASM subtitle05
 
     ADDR    INST/VALUE LINE      TAG  SOURCE STATEMENT
                        0-1            ;[@@@ Voice Label @@@]
                        0-2            ;This segment is auto-generated by Alpha IDE - do not modify!
                        0-3            extern V0
                        0-4            extern V1
                        0-5            extern V2
                        0-6            extern V3
                        0-7            extern V4
                        0-8            extern V5
                        0-9            extern V6
                        0-10           extern V7
                        0-11           extern V8
                        0-12           extern V9
                        0-13           extern V10
                        0-14           extern V11
                        0-15           extern V12
                        0-16           extern V13
                        0-17           extern V14
                        0-18           extern V15
                        0-19           ;[@@@ Voice Label @@@]
                        0-20           ;===============================================================================
                        0-21           ; Alpha AM5A ASM Example Copyright(c) Alpha Microelectronics Corp.
                        0-22           ;===============================================================================
                        0-23           LIST c=off,r=dec
                        0-24           ; For example:
                        0-25           ;       LIST c=off,r=dec,p=am4KA000x
                        0-26           ;       c =	on/off -> Enable/Disable case sensitivity. Default = on
                        0-27           ;       n =	256	-> Maximum iteration count. Default = 256
                        0-28           ;       p =    It set the processor name.
                        0-29           ;       r = “hex” | “dec” | “oct” | “bin”   “hex”   Radix setting. Default = hex
                        0-30           ; ==============================================================================
                        0-31           ; ***********************
                        0-32           ; include *.h files
                        0-33           ; ***********************
                        0-34           #include "5A_SFR.h"
                        2-1            ; ************************************************
                        2-2            ; Alpha AM5A SFR definition
                        2-3            ; ************************************************
                        2-4            ;SFR page1
                        2-5            #define         STATUS        0X00
                        2-6            #define         STATUSCPU     0X00
                        2-7            #define         PERI          0X01
                        2-8            #define         PERI2         0X02
                        2-9            #define         VOL           0X03
                        2-10           #define         PRAIO         0X04
                        2-11           #define         PRA           0X05
                        2-12           #define         PRAPL         0X06
                        2-13           #define         PRBIO         0X07
                        2-14           #define         PRB           0X08
                        2-15           #define         PRBPL         0X09
                        2-16           #define         PRCIO         0X0A
                        2-17           #define         PRC           0X0B    
                        2-18           #define         PRCPL         0X0C
                        2-19           #define         PRDIO         0X0D
                        2-20           #define         PRD           0X0E
                        2-21           #define         PRDPL 	      0X0F
                        2-22           
                        2-23           ;SFR page3
                        2-24           #define         TREG0 	      0X10
                        2-25           #define         TREG1 	      0X11 
                        2-26           #define         TREG2 	      0X12
                        2-27           #define         TREG3 	      0X13
                        2-28           #define         TREG4 	      0X14
                        2-29           
                        2-30           ;===============================================================
                        0-35           ; ==============================================================================
                        0-36           ; ***********************
                        0-37           ; SRAM definition
                        0-38           ; ***********************
                        0-39           ;常數定義 CONSTANT DEFINE
             [00000001] 0-40           BIT0    EQU     #0001B
             [00000002] 0-41           BIT1    EQU     #0010B
             [00000004] 0-42           BIT2    EQU     #0100B
             [00000008] 0-43           BIT3    EQU     #1000B
                        0-44           ;
                        0-45           ;BUTTON_CHECK_MS    EQU     #08H  ;4MS*8次=32 DEBOUNCE 32MS
                        0-46           ;KEY_13_TO_16_CHECK_3S     EQU     #06H      
                        0-47           ; ***********************
                        0-48           ;0x10 of page0 has been used of playv
                        0-49           ;register        r1      =    0x11
                        0-50           
                        0-51           ;-------------------------------------------------------------------------------
                        0-52           ;WORKING SRAM   (18H~2FH)
             [00000018] 0-53           TIMER_BASE_2MS_1        EQU     18H
             [00000019] 0-54           TIMER_BASE_4MS_FLAG     EQU     19H
             [0000001A] 0-55           TIMER_CNT_40MS          EQU     1AH
             [0000001B] 0-56           TIMER_BASE_40MS_FLAG    EQU     1BH
             [0000001C] 0-57           KEY_DEBOUNCE_CNT        EQU     1CH
             [0000001D] 0-58           ACC_TEMP1               EQU     1DH
             [0000001E] 0-59           ACC_TEMP2               EQU     1EH
                        0-60           
                        0-61           ;SCAN_KEY_NEWKEY
             [0000001F] 0-62           PORTB_NEWKEY            EQU     1FH
                        0-63           
                        0-64           ;KEY 1 ROW
             [00000020] 0-65           SCAN_KEY_1_TO_4_OLDKEY  EQU     20H
                        0-66           
                        0-67           ;KEY 2 ROW
             [00000021] 0-68           SCAN_KEY_5_TO_8_OLDKEY  EQU     21H
                        0-69           
                        0-70           ;KEY 3 ROW
             [00000022] 0-71           SCAN_KEY_9_TO_12_OLDKEY EQU     22H
                        0-72           
                        0-73           ;KEY 4 ROW
             [00000023] 0-74           SCAN_KEY_13_TO_16_OLDKEY EQU     23H
                        0-75           ;
             [00000024] 0-76           LED_SCAN_DELAY_CNT      EQU     24H
                        0-77           ;
             [00000025] 0-78           TIMER_CNT_10MS          EQU     25H
             [00000026] 0-79           TIMER_BASE_2MS_2        EQU     26H
             [00000027] 0-80           TIMER_BASE_2MS_3        EQU     27H
                        0-81           ;-------------------------------------------------------------------------------
                        0-82           ;GENERAL SRAM	(30H~80H)     
             [00000030] 0-83           STACK_ACC               EQU     30H     ;保留中斷前 ACC的值 
             [00000031] 0-84           STACK_STATUS            EQU     31H     ;保留中斷前 C-FLAG的值
                        0-85           ;-----------------------------------------------   
             [00000032] 0-86           PORTA_BUFF              EQU     32H     ;PRA_BUFF
             [00000033] 0-87           PORTB_BUFF              EQU     33H     ;PRB_BUFF
             [00000034] 0-88           PORTC_BUFF              EQU     34H     ;PRC_BUFF
             [00000035] 0-89           PORTD_BUFF              EQU     35H     ;PRD_BUFF
                        0-90           ;----------------------------------
             [00000036] 0-91           KEY_SCAN_LINE_CNT      EQU     36H     ;KEY_SCAN_LINE_CNT
                        0-92           ;0 KEY_1_TO_4
                        0-93           ;1 KEY_5_TO_8
                        0-94           ;2 KEY_9_TO_12
                        0-95           ;3 KEY_13_TO_16
                        0-96           ;
             [00000037] 0-97           LED_SCAN_LINE_CNT      EQU     37H     ;LED_SCAN_LINE_CNT
                        0-98           ;0 LED_1_TO_4
                        0-99           ;1 LED_5_TO_8
                        0-100          ;2 LED_9_TO_12
                        0-101          ;3 LED_13_TO_16
                        0-102          ;
             [00000038] 0-103          SCAN_LED_1_TO_4_OS      EQU     38H     ;LED_1_ROW
                        0-104          ;BIT[0] LED_1
                        0-105          ;BIT[1] LED_2
                        0-106          ;BIT[2] LED_3
                        0-107          ;BIT[3] LED_4
                        0-108          ;
             [00000039] 0-109          SCAN_LED_5_TO_8_OS      EQU     39H     ;LED_2_ROW
                        0-110          ;BIT[0] LED_5
                        0-111          ;BIT[1] LED_6
                        0-112          ;BIT[2] LED_7
                        0-113          ;BIT[3] LED_8
                        0-114          ;
             [0000003A] 0-115          SCAN_LED_9_TO_12_OS     EQU     3AH     ;LED_3_ROW
                        0-116          ;BIT[0] LED_9
                        0-117          ;BIT[1] LED_10
                        0-118          ;BIT[2] LED_11
                        0-119          ;BIT[3] LED_12
                        0-120          ;
             [0000003B] 0-121          SCAN_LED_13_TO_16_OS    EQU     3BH     ;LED_4_ROW
                        0-122          ;BIT[0] LED_13
                        0-123          ;BIT[1] LED_14
                        0-124          ;BIT[2] LED_15
                        0-125          ;BIT[3] LED_16
                        0-126          ;
                        0-127          ;-----------------------------------------------
             [0000003C] 0-128          KEY4_3S_CNT_BIT4        EQU     3CH
             [0000003D] 0-129          KEY4_3S_CNT_BIT8        EQU     3DH 
             [0000003E] 0-130          KEY4_TIMER_FLAG_CONTROL EQU     3EH     ;TMR FLAG
                        0-131          ;BIT[0] KEY_4_START TMR_FLAG
                        0-132          ;BIT[1] KEY_4_CHECK_3S_FLAG
                        0-133          ;BIT[2] KEY_3_CNT
                        0-134          ;BIT[3] CIRCLE_FORK_CNT    
                        0-135          
                        0-136          ;----------
             [0000003F] 0-137          KEY_5_TO_8_OS           EQU     3FH     ;KEY_R2_OS
                        0-138          ;BIT[0] KEY_5_OS
                        0-139          ;BIT[1] KEY_6_OS
                        0-140          ;BIT[2] KEY_7_OS
                        0-141          ;BIT[3] KEY_8_OS
             [00000040] 0-142          LED_BASE_2MS_FLAG       EQU     40H     ;LED_BASE_2MS_FLAG
                        0-143          ;BIT[0] LED_5_FLAG
                        0-144          ;BIT[1] LED_6_FLAG
                        0-145          ;BIT[2] LED_7_FLAG
                        0-146          ;BIT[3] LED_8_FLAG
             [00000041] 0-147          LED_5_10MS_CNT          EQU     41H
             [00000042] 0-148          LED_6_10MS_CNT          EQU     42H
             [00000043] 0-149          LED_7_10MS_CNT          EQU     43H
             [00000044] 0-150          LED_8_10MS_CNT          EQU     44H
                        0-151          ;
             [00000045] 0-152          KEY_9_TO_12_OS          EQU     45H     ;KEY_R3_OS
                        0-153          ;BIT[0] KEY_9_OS
                        0-154          ;BIT[1] KEY_10_OS
                        0-155          ;BIT[2] KEY_11_OS
                        0-156          ;BIT[3] KEY_12_OS
             [00000046] 0-157          LED_BASE_10MS_FLAG      EQU     46H     ;LED_BASE_10MS_FLAG
                        0-158          ;BIT[0] LED_9_FLAG
                        0-159          ;BIT[1] LED_10_FLAG
                        0-160          ;BIT[2] LED_11_FLAG
                        0-161          ;BIT[3] LED_12_FLAG
             [00000047] 0-162          LED_9_50MS_CNT          EQU     47H
             [00000048] 0-163          LED_10_50MS_CNT         EQU     48H
             [00000049] 0-164          LED_11_50MS_CNT         EQU     49H
             [0000004A] 0-165          LED_12_50MS_CNT         EQU     4AH
                        0-166          ;
             [0000004B] 0-167          KEY_13_TO_16_OS         EQU     4BH     ;KEY_R4_OS
                        0-168          ;BIT[0] KEY_13_OS
                        0-169          ;BIT[1] KEY_14_OS
                        0-170          ;BIT[2] KEY_15_OS
                        0-171          ;BIT[3] KEY_16_OS
             [0000004C] 0-172          LED_BASE_8MS_FLAG       EQU     4CH     ;LED_BASE_8MS_FLAG
                        0-173          ;BIT[0] LED_13_FLAG
                        0-174          ;BIT[1] LED_14_FLAG
                        0-175          ;BIT[2] LED_15_FLAG
                        0-176          ;BIT[3] LED_16_FLAG
             [0000004D] 0-177          LED_13_75MS_CNT         EQU     4DH
             [0000004E] 0-178          LED_14_75MS_CNT         EQU     4EH
             [0000004F] 0-179          LED_15_75MS_CNT         EQU     4FH
             [00000050] 0-180          LED_16_75MS_CNT         EQU     50H
                        0-181          ;
             [00000051] 0-182          SPECIAL_FLAG            EQU     51H
                        0-183          ;BIT[0] KEY_13_TO_16_FLAG
                        0-184          ;BIT[1] KEY_15_SPIRAL_START_FLAG
                        0-185          ;BIT[2] KEY_16_CITCLE_FORk_START_FLAG
                        0-186          ;BIT[3]
             [00000052] 0-187          SPIRAL_CNT              EQU     52H
             [00000053] 0-188          SPIRAL_TMR_CNT          EQU     53H
                        0-189          ;
                        0-190          ; ==============================================================================
                        0-191          ;***********************
                        0-192          ; Reset Vector (org 0x00000~0x0000f)
                        0-193          ;***********************
             [00000000] 0-194          org     0x00000
     000000  0202 005E  0-195                  JMP         @MAIN_BEGIN     ;跳轉 MAIN_BEGIN (IC RESET)
                        0-196          ; ==============================================================================
                        0-197          ;***********************
                        0-198          ; Interrupt Vector (org 0x00010~0x0001f)
                        0-199          ;***********************
             [00000010] 0-200          org     0x00010
     000010  0202 0000  0-201                  JMP         @INT_BEGIN      ;跳轉 INT_BEGIN
                        0-202          ; ==============================================================================
             [00000020] 0-203          org     0x00020
                        0-204          ;***********************
                        0-205          ; Reserved Memory (org 0x00020~0x003ff) Don't Use
                        0-206          ;***********************
                        0-207          ; ==============================================================================
                        0-208          ;***********************
                        0-209              ;For scale tables,don't Use
                        0-210          ;***********************
                        0-211          ; ==============================================================================
                        0-212          ; Program/DATA/Voice data Vector (org 0x00800~0xfffff in EV chip)
                        0-213          ;***********************
                        0-214          ; Program Vector
                        0-215          ;***********************
                        0-216          ;----play macro instruction----
                        0-217          ;playv  filename,filename_str    ;start play a voice.filename: voice file address;filename_str: the character string of voice file name
                        0-218          ;RampUp			    ;at DACout,for DAC Ramp Up
                        0-219          ;RampDown		    ;at DACout,for DAC Ramp Down
                        0-220          ;------------------------
             [00000800] 0-221          org     0x00800
                        0-222          ; ==============================================================================
             [00000800] 0-223          @INT_BEGIN:
     000800  0030       0-224                          MOVAR   STACK_ACC       ;儲存中斷前的ACC
     000801  0100       0-225                          MOVRA   STATUS          
     000802  0031       0-226                          MOVAR   STACK_STATUS    ;儲存中斷前的C-FLAG        
                        0-227                          ;-----------------------                                        
                        0-228                                                  ;中斷時的動作
                        0-229                          ;-----------------------
             [00000803] 0-230          @INT_DONE:
     000803  0131       0-231                          MOVRA   STACK_STATUS    ;取出中斷前的的C-FLAG
     000804  0000       0-232                          MOVAR   STATUS          ;放回STATUS
     000805  0130       0-233                          MOVRA   STACK_ACC       ;取出中斷前的ACC
     000806  03FB       0-234                          RET
                        0-235          ;===============================================================================
             [00000807] 0-236          POLLING_TIMER:
     000807  0101       0-237                          MOVRA   PERI
     000808  0388       0-238                          ANDI    #1000B
     000809  03D8       0-239                          SAB1    #1000B
     00080A  0202 0038  0-240                          JMP     POLLING_TIMER_END
                        0-241                          ;每2MS進來1次 
     00080C  03F4       0-242                          CLRWDT
                        0-243                          ;------------
     00080D  03EF       0-244                          MOVIA   #1111B
     00080E  0040       0-245                          MOVAR   LED_BASE_2MS_FLAG
     00080F  0314       0-246                          ADD1    LED_SCAN_DELAY_CNT           ;LED_SCAN_DELAY_CNT
                        0-247                          ;------------
     000810  0308       0-248                          ADD1    TIMER_BASE_2MS_1
     000811  0118       0-249                          MOVRA   TIMER_BASE_2MS_1
     000812  0362       0-250                          SAEQI   #2H  
     000813  0202 0023  0-251                          JMP     LED_TIMER_40MS_END
     000815  03E0       0-252                          MOVIA   #0000B
     000816  0018       0-253                          MOVAR   TIMER_BASE_2MS_1
                        0-254                          ;4MS CNT START
     000817  030C       0-255                          ADD1    KEY_DEBOUNCE_CNT            ;KEY_DEBOUNCE_CNT
                        0-256                          ;
     000818  03EF       0-257                          MOVIA   #1111B
     000819  0019       0-258                          MOVAR   TIMER_BASE_4MS_FLAG
     00081A  030A       0-259                          ADD1    TIMER_CNT_40MS
     00081B  011A       0-260                          MOVRA   TIMER_CNT_40MS
     00081C  036A       0-261                          SAEQI   #AH   
     00081D  0202 0023  0-262                          JMP     LED_TIMER_40MS_END
     00081F  03E0       0-263                          MOVIA   #0000B
     000820  001A       0-264                          MOVAR   TIMER_CNT_40MS 
     000821  03EF       0-265                          MOVIA   #1111B
     000822  001B       0-266                          MOVAR   TIMER_BASE_40MS_FLAG             
                        0-267                          ;------------
             [00000823] 0-268          LED_TIMER_40MS_END:
     000823  03FF       0-269                          NOP                
             [00000824] 0-270          LED_TIMER_8MS:
     000824  0316       0-271                          ADD1    TIMER_BASE_2MS_2
     000825  0126       0-272                          MOVRA   TIMER_BASE_2MS_2
     000826  0364       0-273                          SAEQI   #4H
     000827  0202 002D  0-274                          JMP     LED_TIMER_8MS_END
     000829  03E0       0-275                          MOVIA   #0000B
     00082A  0026       0-276                          MOVAR   TIMER_BASE_2MS_2
     00082B  03EF       0-277                          MOVIA   #1111B
     00082C  004C       0-278                          MOVAR   LED_BASE_8MS_FLAG
             [0000082D] 0-279          LED_TIMER_8MS_END:
     00082D  03FF       0-280                          NOP
             [0000082E] 0-281          LED_TIMER_10MS:
     00082E  0317       0-282                          ADD1    TIMER_BASE_2MS_3
     00082F  0127       0-283                          MOVRA   TIMER_BASE_2MS_3
     000830  0365       0-284                          SAEQI   #5H
     000831  0202 0037  0-285                          JMP     LED_TIMER_10MS_END
     000833  03E0       0-286                          MOVIA   #0000B
     000834  0027       0-287                          MOVAR   TIMER_BASE_2MS_3
     000835  03EF       0-288                          MOVIA   #1111B
     000836  0046       0-289                          MOVAR   LED_BASE_10MS_FLAG
             [00000837] 0-290          LED_TIMER_10MS_END:
     000837  03FF       0-291                          NOP               
                        0-292                          ;------------
             [00000838] 0-293          POLLING_TIMER_END:
     000838  03FB       0-294                          RET
                        0-295          ;===============================================================================
             [00000839] 0-296          KEY4_3S_START:
     000839  013E       0-297                          MOVRA   KEY4_TIMER_FLAG_CONTROL 
     00083A  03D1       0-298                          SAB1    BIT0                    ;判斷KEY4_3S_START_FLAG
     00083B  0202 005D  0-299                          JMP     KEY4_3S_END
                        0-300                          ;
     00083D  011B       0-301                          MOVRA   TIMER_BASE_40MS_FLAG
     00083E  03D2       0-302                          SAB1    BIT1                    ;判斷TIMER_BASE_40MS_FLAG[1]
     00083F  0202 005D  0-303                          JMP     KEY4_3S_END
                        0-304                          ;   
     000841  011B       0-305                          MOVRA   TIMER_BASE_40MS_FLAG    
     000842  038D       0-306                          ANDI    ~BIT1
     000843  001B       0-307                          MOVAR   TIMER_BASE_40MS_FLAG    ;TIMER_BASE_40MS_FLAG[1]清0 
                        0-308                          ;
     000844  013C       0-309                          MOVRA   KEY4_3S_CNT_BIT4        
     000845  001D       0-310                          MOVAR   ACC_TEMP1               ;3S_CNT_BIT4暫存至ACC_TEMP1 
     000846  013D       0-311                          MOVRA   KEY4_3S_CNT_BIT8
     000847  001E       0-312                          MOVAR   ACC_TEMP2               ;3S_CNT_BIT8暫存至ACC_TEMP2
                        0-313                          ;
     000848  013D       0-314                          MOVRA   KEY4_3S_CNT_BIT8
     000849  0364       0-315                          SAEQI   #0100B                  ;判斷CNT_BIT8是否達到 
     00084A  0202 0055  0-316                          JMP     KEY4_3S_INC             ;未達到-繼續計數 
     00084C  013C       0-317                          MOVRA   KEY4_3S_CNT_BIT4
     00084D  036B       0-318                          SAEQI   #1011B                  ;判斷CNT_BIT4是否達到
     00084E  0202 0055  0-319                          JMP     KEY4_3S_INC             ;未達到-繼續計數
     000850  013E       0-320                          MOVRA   KEY4_TIMER_FLAG_CONTROL 
     000851  0392       0-321                          ORI     #0010B
     000852  003E       0-322                          MOVAR   KEY4_TIMER_FLAG_CONTROL ;KEY4_3S_FINISH_FLAG
     000853  0202 005D  0-323                          JMP     KEY4_3S_END 
             [00000855] 0-324          KEY4_3S_INC:
     000855  03E0       0-325                          MOVIA   #0000B
     000856  0000       0-326                          MOVAR   STATUS                  ;C-FLAG清0
                        0-327                          ;計數 
     000857  030D       0-328                          ADD1    ACC_TEMP1
     000858  032E       0-329                          ADC0    ACC_TEMP2
                        0-330                          ;回存CNT   
     000859  011D       0-331                          MOVRA   ACC_TEMP1
     00085A  003C       0-332                          MOVAR   KEY4_3S_CNT_BIT4
     00085B  011E       0-333                          MOVRA   ACC_TEMP2
     00085C  003D       0-334                          MOVAR   KEY4_3S_CNT_BIT8     
             [0000085D] 0-335          KEY4_3S_END:
     00085D  03FB       0-336                          RET
                        0-337          ;===============================================================================
             [0000085E] 0-338          @MAIN_BEGIN:
                        0-339          ;-------------------------------------------------------------------------------        
     00085E  0243 0166  0-340                          CALL    CLEAR_RAM_ALL
                        0-341          ;-------------------------------------------------------------------------------
                        0-342                          ;START  (SET SFR)
     000860  03E0       0-343                          MOVIA   #00H
     000861  0000       0-344                          MOVAR   STATUS  ;SET STATUS
     000862  0002       0-345                          MOVAR   PERI2   ;SET PERI2
     000863  0003       0-346                          MOVAR   VOL     ;SET VOL
                        0-347                          ;
     000864  03E0       0-348                          MOVIA   #00H
     000865  0004       0-349                          MOVAR   PRAIO   ;SET PRAIO (OUTPUT)
     000866  0006       0-350                          MOVAR   PRAPL   ;SET PRA PROPL (DIS-ABLE PULL-LOW)
     000867  0005       0-351                          MOVAR   PRA     ;SET PRA (LOW OUT)
                        0-352                          ;
     000868  03EF       0-353                          MOVIA   #0FH
     000869  0007       0-354                          MOVAR   PRBIO   ;SET PRBIO (INPUT)
     00086A  0009       0-355                          MOVAR   PRBPL   ;SET PRBPRL (EN-SABLE PULL-LOW)
                        0-356                          ;
     00086B  03E0       0-357                          MOVIA   #00H
     00086C  000A       0-358                          MOVAR   PRCIO   ;SET PRCIO (OUTPUT)
     00086D  000C       0-359                          MOVAR   PRCPL   ;SET PRC PROPL (DISABLE PULL-LOW)
     00086E  000B       0-360                          MOVAR   PRC     ;SET PRD (LOW OUT)
                        0-361                          ;
     00086F  03E0       0-362                          MOVIA   #00H
     000870  000D       0-363                          MOVAR   PRDIO   ;SET PRDIO (OUTPUT)
     000871  000F       0-364                          MOVAR   PRDPL   ;SET PRDPRL (DISABLE PULL-LOW)
     000872  000E       0-365                          MOVAR   PRD     ;SET PRD (LOW OUT)
                        0-366                          ;---------
             [00000873] 0-367          MAIN_INIT:
     000873  03E0       0-368                          MOVIA   #0000B                        
     000874  0036       0-369                          MOVAR   KEY_SCAN_LINE_CNT          ;初始化 KEY_SCAN_LINE_1_ROW
     000875  0037       0-370                          MOVAR   LED_SCAN_LINE_CNT          ;初始化 LED_SCAN_LINE_1_ROW
                        0-371                          ;      
     000876  03E0       0-372                          MOVIA   #0000B
     000877  0005       0-373                          MOVAR   PRA
     000878  000B       0-374                          MOVAR   PRC
                        0-375                          ;---------
     000879  03E1       0-376                          MOVIA   #0001B
     00087A  0005       0-377                          MOVAR   PRA
                        0-378                          ;ADD DELAY
     00087B  0243 015A  0-379                          CALL    INIT_DELAY_TMR
                        0-380                          ;---------
     00087D  0108       0-381                          MOVRA   PRB
     00087E  0020       0-382                          MOVAR   SCAN_KEY_1_TO_4_OLDKEY      ;紀錄KEY_1_ROW OLDKEY
                        0-383                          ;
     00087F  03E2       0-384                          MOVIA   #0010B
     000880  0005       0-385                          MOVAR   PRA
                        0-386                          ;ADD DELAY
     000881  0243 015A  0-387                          CALL    INIT_DELAY_TMR
                        0-388                          ;---------
     000883  0108       0-389                          MOVRA   PRB
     000884  0021       0-390                          MOVAR   SCAN_KEY_5_TO_8_OLDKEY      ;紀錄KEY_2_ROW OLDKEY
                        0-391                          ;
     000885  03E4       0-392                          MOVIA   #0100B
     000886  0005       0-393                          MOVAR   PRA
                        0-394                          ;ADD DELAY
     000887  0243 015A  0-395                          CALL    INIT_DELAY_TMR
                        0-396                          ;---------
     000889  0108       0-397                          MOVRA   PRB
     00088A  0022       0-398                          MOVAR   SCAN_KEY_9_TO_12_OLDKEY     ;紀錄KEY_3_ROW OLDKEY
                        0-399                          ;
     00088B  03E8       0-400                          MOVIA   #1000B
     00088C  0005       0-401                          MOVAR   PRA
                        0-402                          ;ADD DELAY
     00088D  0243 015A  0-403                          CALL    INIT_DELAY_TMR
                        0-404                          ;---------
     00088F  0108       0-405                          MOVRA   PRB
     000890  0023       0-406                          MOVAR   SCAN_KEY_13_TO_16_OLDKEY    ;紀錄KEY_4_ROW OLDKEY
                        0-407                          ;
                        0-408                          ;---------
                        0-409                          ;INIT 掃描線第一排 
     000891  03EE       0-410                          MOVIA   ~BIT0
     000892  0004       0-411                          MOVAR   PRAIO
     000893  0006       0-412                          MOVAR   PRAPL 
     000894  03E1       0-413                          MOVIA   BIT0
     000895  0005       0-414                          MOVAR   PRA            
                        0-415                          ;---------
                        0-416                          ;INIT SCAN_LED CLOSE
     000896  03EF       0-417                          MOVIA   #1111B
     000897  0038       0-418                          MOVAR   SCAN_LED_1_TO_4_OS
     000898  0039       0-419                          MOVAR   SCAN_LED_5_TO_8_OS
     000899  003A       0-420                          MOVAR   SCAN_LED_9_TO_12_OS
     00089A  003B       0-421                          MOVAR   SCAN_LED_13_TO_16_OS
                        0-422                          ;---------
     00089B  03E1       0-423                          MOVIA   #01H
     00089C  0001       0-424                          MOVAR   PERI    ;SET PERI (INTON : ENABLE)
     00089D  03F4       0-425                          CLRWDT
                        0-426                          ;END    (SET SFR)
                        0-427          ;-------------------------------------------------------------------------------                        
                        0-428                          ;START  (MAIN PROGRAM)
             [0000089E] 0-429          MAIN_LOOP:  
     00089E  0242 0007  0-430                          CALL    POLLING_TIMER
     0008A0  0242 0039  0-431                          CALL    KEY4_3S_START
                        0-432                          ;-------
     0008A2  0242 00B0  0-433                          CALL    SCAN_KEY_START
                        0-434                          ;-------
     0008A4  0242 02BC  0-435                          CALL    OUTPUT_10MS
     0008A6  0242 0338  0-436                          CALL    OUTPUT_50MS
                        0-437                          ;CALL    OUTPUT_75MS
     0008A8  0243 0103  0-438                          CALL    CIRCLE_FORK_START
     0008AA  0243 002A  0-439                          CALL    SPIRAL_LED_START 
                        0-440                          ;-------
     0008AC  0243 0122  0-441                          CALL    SCAN_LED_START
                        0-442                          ;-------
     0008AE  0202 009E  0-443                          JMP     MAIN_LOOP
                        0-444                          ;END    (MAIN PROGRAM)
                        0-445          ;===============================================================================
             [000008B0] 0-446          SCAN_KEY_START:
     0008B0  0108       0-447                          MOVRA   PRB
     0008B1  001F       0-448                          MOVAR   PORTB_NEWKEY
                        0-449                          ;FIND WHICH ROW
     0008B2  0136       0-450                          MOVRA   KEY_SCAN_LINE_CNT
             [000008B3] 0-451          SCAN_KEY_CHECK_1_ROW:
     0008B3  0360       0-452                          SAEQI   #00H                        ;KEY_SCAN_LINE_CNT=0 KEY_1_ROW
     0008B4  0202 00B9  0-453                          JMP     SCAN_KEY_CHECK_2_ROW
     0008B6  0120       0-454                          MOVRA   SCAN_KEY_1_TO_4_OLDKEY
     0008B7  0202 00CB  0-455                          JMP     SCAN_KEY_CHECK_CHANGE
             [000008B9] 0-456          SCAN_KEY_CHECK_2_ROW:
     0008B9  0361       0-457                          SAEQI   #01H                        ;KEY_SCAN_LINE_CNT=1 KEY_2_ROW
     0008BA  0202 00BF  0-458                          JMP     SCAN_KEY_CHECK_3_ROW
     0008BC  0121       0-459                          MOVRA   SCAN_KEY_5_TO_8_OLDKEY
     0008BD  0202 00CB  0-460                          JMP     SCAN_KEY_CHECK_CHANGE
             [000008BF] 0-461          SCAN_KEY_CHECK_3_ROW:
     0008BF  0362       0-462                          SAEQI   #02H                        ;KEY_SCAN_LINE_CNT=2 KEY_3_ROW
     0008C0  0202 00C5  0-463                          JMP     SCAN_KEY_CHECK_4_ROW
     0008C2  0122       0-464                          MOVRA   SCAN_KEY_9_TO_12_OLDKEY
     0008C3  0202 00CB  0-465                          JMP     SCAN_KEY_CHECK_CHANGE
             [000008C5] 0-466          SCAN_KEY_CHECK_4_ROW:
     0008C5  0363       0-467                          SAEQI   #03H                        ;KEY_SCAN_LINE_CNT=3 KEY_4_ROW
     0008C6  0202 00B3  0-468                          JMP     SCAN_KEY_CHECK_1_ROW
     0008C8  0123       0-469                          MOVRA   SCAN_KEY_13_TO_16_OLDKEY
     0008C9  0202 00CB  0-470                          JMP     SCAN_KEY_CHECK_CHANGE
                        0-471                          ;
             [000008CB] 0-472          SCAN_KEY_CHECK_CHANGE:
     0008CB  02CF       0-473                          XOR     PORTB_NEWKEY
     0008CC  0370       0-474                          SANEI   #0000B                      ;檢查鬢EY有無改變
     0008CD  0202 00D7  0-475                          JMP     KEY_SCAN_LINE_CHANGE        ;無改變=>換下一排
     0008CF  0202 00D1  0-476                          JMP     KEY_DEBOUNCE_CHECK          ;有改變=>檢查DEOBUNCE
                        0-477          ;-------------------------------------------------------------------------------
             [000008D1] 0-478          KEY_DEBOUNCE_CHECK:
     0008D1  011C       0-479                          MOVRA   KEY_DEBOUNCE_CNT
     0008D2  0368       0-480                          SAEQI   #8H                 ; 4MS*8=32MS
     0008D3  0202 014A  0-481                          JMP     SCAN_KEY_END
     0008D5  0202 0100  0-482                          JMP     KEY_UPDATE                 
                        0-483          ;-------------------------------------------------------------------------------
             [000008D7] 0-484          KEY_SCAN_LINE_CHANGE:
     0008D7  03E0       0-485                          MOVIA   #0000B
     0008D8  0005       0-486                          MOVAR   PRA
                        0-487                          ;FIND WHICH ROW
     0008D9  0136       0-488                          MOVRA   KEY_SCAN_LINE_CNT
             [000008DA] 0-489          KEY_SCAN_LINE_CHANGE_1_ROW:
     0008DA  0360       0-490                          SAEQI   #00H                        ;KEY_SCAN_LINE_CNT=0 KEY_1_ROW
     0008DB  0202 00E0  0-491                          JMP     KEY_SCAN_LINE_CHANGE_2_ROW
     0008DD  03ED       0-492                          MOVIA   #1101B
     0008DE  0202 00F2  0-493                          JMP     KEY_SCAN_LINE_CHANGE_START
             [000008E0] 0-494          KEY_SCAN_LINE_CHANGE_2_ROW:
     0008E0  0361       0-495                          SAEQI   #01H                        ;KEY_SCAN_LINE_CNT=1 KEY_2_ROW
     0008E1  0202 00E6  0-496                          JMP     KEY_SCAN_LINE_CHANGE_3_ROW
     0008E3  03EB       0-497                          MOVIA   #1011B
     0008E4  0202 00F2  0-498                          JMP     KEY_SCAN_LINE_CHANGE_START
             [000008E6] 0-499          KEY_SCAN_LINE_CHANGE_3_ROW:
     0008E6  0362       0-500                          SAEQI   #02H                        ;KEY_SCAN_LINE_CNT=2 KEY_3_ROW
     0008E7  0202 00EC  0-501                          JMP     KEY_SCAN_LINE_CHANGE_4_ROW
     0008E9  03E7       0-502                          MOVIA   #0111B
     0008EA  0202 00F2  0-503                          JMP     KEY_SCAN_LINE_CHANGE_START
             [000008EC] 0-504          KEY_SCAN_LINE_CHANGE_4_ROW:
     0008EC  0363       0-505                          SAEQI   #03H                        ;KEY_SCAN_LINE_CNT=3 KEY_4_ROW
     0008ED  0202 00DA  0-506                          JMP     KEY_SCAN_LINE_CHANGE_1_ROW
     0008EF  03EE       0-507                          MOVIA   #1110B
     0008F0  0202 00F2  0-508                          JMP     KEY_SCAN_LINE_CHANGE_START
                        0-509                          ;
             [000008F2] 0-510          KEY_SCAN_LINE_CHANGE_START:
     0008F2  0004       0-511                          MOVAR   PRAIO
     0008F3  0006       0-512                          MOVAR   PRAPL
     0008F4  03AF       0-513                          XORI    #1111B
     0008F5  0005       0-514                          MOVAR   PRA
                        0-515                          
     0008F6  0136       0-516                          MOVRA   KEY_SCAN_LINE_CNT
     0008F7  03F8       0-517                          INCA
     0008F8  0036       0-518                          MOVAR   KEY_SCAN_LINE_CNT
     0008F9  0364       0-519                          SAEQI   #04H
     0008FA  0202 0148  0-520                          JMP     SCAN_KEY_DEBOUNCE_CNT_RESET
     0008FC  03E0       0-521                          MOVIA   #0000B
     0008FD  0036       0-522                          MOVAR   KEY_SCAN_LINE_CNT
     0008FE  0202 0148  0-523                          JMP     SCAN_KEY_DEBOUNCE_CNT_RESET
                        0-524          ;----------------------------------------------------------------------------------
             [00000900] 0-525          KEY_UPDATE:
                        0-526                          ;FIND WHICH ROW
     000900  0136       0-527                          MOVRA   KEY_SCAN_LINE_CNT
             [00000901] 0-528          KEY_UPDATE_1_ROW:
     000901  0360       0-529                          SAEQI   #00H                        ;KEY_SCAN_LINE_CNT=0 KEY_1_ROW
     000902  0202 010A  0-530                          JMP     KEY_UPDATE_2_ROW
     000904  011F       0-531                          MOVRA   PORTB_NEWKEY
     000905  02D0       0-532                          XOR     SCAN_KEY_1_TO_4_OLDKEY
     000906  001D       0-533                          MOVAR   ACC_TEMP1
     000907  0290       0-534                          AND     SCAN_KEY_1_TO_4_OLDKEY
     000908  0202 0125  0-535                          JMP     KEY_UPDATE_START
             [0000090A] 0-536          KEY_UPDATE_2_ROW:
     00090A  0361       0-537                          SAEQI   #01H                        ;KEY_SCAN_LINE_CNT=1 KEY_2_ROW
     00090B  0202 0113  0-538                          JMP     KEY_UPDATE_3_ROW
     00090D  011F       0-539                          MOVRA   PORTB_NEWKEY
     00090E  02D1       0-540                          XOR     SCAN_KEY_5_TO_8_OLDKEY
     00090F  001D       0-541                          MOVAR   ACC_TEMP1
     000910  0291       0-542                          AND     SCAN_KEY_5_TO_8_OLDKEY
     000911  0202 0125  0-543                          JMP     KEY_UPDATE_START
             [00000913] 0-544          KEY_UPDATE_3_ROW:
     000913  0362       0-545                          SAEQI   #02H                        ;KEY_SCAN_LINE_CNT=2 KEY_3_ROW
     000914  0202 011C  0-546                          JMP     KEY_UPDATE_4_ROW
     000916  011F       0-547                          MOVRA   PORTB_NEWKEY
     000917  02D2       0-548                          XOR     SCAN_KEY_9_TO_12_OLDKEY
     000918  001D       0-549                          MOVAR   ACC_TEMP1
     000919  0292       0-550                          AND     SCAN_KEY_9_TO_12_OLDKEY
     00091A  0202 0125  0-551                          JMP     KEY_UPDATE_START
             [0000091C] 0-552          KEY_UPDATE_4_ROW:
     00091C  0363       0-553                          SAEQI   #03H                        ;KEY_SCAN_LINE_CNT=3 KEY_4_ROW
     00091D  0202 0101  0-554                          JMP     KEY_UPDATE_1_ROW
     00091F  011F       0-555                          MOVRA   PORTB_NEWKEY
     000920  02D3       0-556                          XOR     SCAN_KEY_13_TO_16_OLDKEY
     000921  001D       0-557                          MOVAR   ACC_TEMP1
     000922  0293       0-558                          AND     SCAN_KEY_13_TO_16_OLDKEY
     000923  0202 0125  0-559                          JMP     KEY_UPDATE_START
             [00000925] 0-560          KEY_UPDATE_START:
                        0-561                          ;FIND WHICH KEY
     000925  001E       0-562                          MOVAR   ACC_TEMP2                   ;HI TO LO (UP)      儲存哪些KEY為UP 
                        0-563                          
     000926  011D       0-564                          MOVRA   ACC_TEMP1
     000927  028F       0-565                          AND     PORTB_NEWKEY
     000928  001D       0-566                          MOVAR   ACC_TEMP1                   ;LO TO HI (DOWN)    儲存哪些KEY為DOWN
     000929  0202 012B  0-567                          JMP     KEY_ACTION
                        0-568          ;-------------------------------------------------------------------------------
             [0000092B] 0-569          KEY_ACTION:
     00092B  0136       0-570                          MOVRA   KEY_SCAN_LINE_CNT
             [0000092C] 0-571          KEY_ACTIN_1_ROW:
     00092C  0360       0-572                          SAEQI   #00H                        ;KEY_SCAN_LINE_CNT=0 KEY_1_ROW
     00092D  0202 0133  0-573                          JMP     KEY_ACTIN_2_ROW
     00092F  011F       0-574                          MOVRA   PORTB_NEWKEY
     000930  0020       0-575                          MOVAR   SCAN_KEY_1_TO_4_OLDKEY
     000931  0202 014B  0-576                          JMP     KEY_1_TO_4_ACTION
             [00000933] 0-577          KEY_ACTIN_2_ROW:
     000933  0361       0-578                          SAEQI   #01H                        ;KEY_SCAN_LINE_CNT=1 KEY_2_ROW
     000934  0202 013A  0-579                          JMP     KEY_ACTIN_3_ROW
     000936  011F       0-580                          MOVRA   PORTB_NEWKEY
     000937  0021       0-581                          MOVAR   SCAN_KEY_5_TO_8_OLDKEY
     000938  0202 01B2  0-582                          JMP     KEY_5_TO_8_ACTION
             [0000093A] 0-583          KEY_ACTIN_3_ROW:
     00093A  0362       0-584                          SAEQI   #02H                        ;KEY_SCAN_LINE_CNT=2 KEY_3_ROW
     00093B  0202 0141  0-585                          JMP     KEY_ACTIN_4_ROW
     00093D  011F       0-586                          MOVRA   PORTB_NEWKEY
     00093E  0022       0-587                          MOVAR   SCAN_KEY_9_TO_12_OLDKEY
     00093F  0202 020C  0-588                          JMP     KEY_9_TO_12_ACTION
             [00000941] 0-589          KEY_ACTIN_4_ROW:
     000941  0363       0-590                          SAEQI   #03H                        ;KEY_SCAN_LINE_CNT=3 KEY_4_ROW
     000942  0202 012C  0-591                          JMP     KEY_ACTIN_1_ROW
     000944  011F       0-592                          MOVRA   PORTB_NEWKEY
     000945  0023       0-593                          MOVAR   SCAN_KEY_13_TO_16_OLDKEY
     000946  0202 0263  0-594                          JMP     KEY_13_TO_16_ACTION         
                        0-595          ;-------------------------------------------------------------------------------                
             [00000948] 0-596          SCAN_KEY_DEBOUNCE_CNT_RESET:
     000948  03E0       0-597                          MOVIA   #0000B
     000949  001C       0-598                          MOVAR   KEY_DEBOUNCE_CNT                          
             [0000094A] 0-599          SCAN_KEY_END:
     00094A  03FB       0-600                          RET  
                        0-601          ;-------------------------------------------------------------------------------
             [0000094B] 0-602          KEY_1_TO_4_ACTION:
     00094B  0151       0-603                          MOVRA   SPECIAL_FLAG
     00094C  03D1       0-604                          SAB1    BIT0
     00094D  0202 015A  0-605                          JMP     KEY_1_DOWN
     00094F  03E0       0-606                          MOVIA   #0000B
     000950  0051       0-607                          MOVAR   SPECIAL_FLAG
     000951  003F       0-608                          MOVAR   KEY_5_TO_8_OS
     000952  0045       0-609                          MOVAR   KEY_9_TO_12_OS
     000953  0052       0-610                          MOVAR   SPIRAL_CNT
     000954  0053       0-611                          MOVAR   SPIRAL_TMR_CNT
     000955  03EF       0-612                          MOVIA   #1111B
     000956  0038       0-613                          MOVAR   SCAN_LED_1_TO_4_OS
     000957  0039       0-614                          MOVAR   SCAN_LED_5_TO_8_OS
     000958  003A       0-615                          MOVAR   SCAN_LED_9_TO_12_OS
     000959  003B       0-616                          MOVAR   SCAN_LED_13_TO_16_OS
             [0000095A] 0-617          KEY_1_DOWN:
     00095A  011D       0-618                          MOVRA   ACC_TEMP1
     00095B  03D1       0-619                          SAB1    BIT0  
     00095C  0202 0161  0-620                          JMP     KEY_1_UP
     00095E  0138       0-621                          MOVRA   SCAN_LED_1_TO_4_OS
     00095F  03A1       0-622                          XORI    BIT0
     000960  0038       0-623                          MOVAR   SCAN_LED_1_TO_4_OS          ;KEY_1_DOWN LED_1_OPEN/CLOSE
             [00000961] 0-624          KEY_1_UP:
     000961  011E       0-625                          MOVRA   ACC_TEMP2
     000962  03D1       0-626                          SAB1    BIT0  
     000963  0202 0166  0-627                          JMP     KEY_2_DOWN                         
     000965  03FF       0-628                          NOP
                        0-629                          ;-----------------------
             [00000966] 0-630          KEY_2_DOWN:
     000966  011D       0-631                          MOVRA   ACC_TEMP1
     000967  03D2       0-632                          SAB1    BIT1  
     000968  0202 016D  0-633                          JMP     KEY_2_UP
     00096A  0138       0-634                          MOVRA   SCAN_LED_1_TO_4_OS
     00096B  038D       0-635                          ANDI    ~BIT1
     00096C  0038       0-636                          MOVAR   SCAN_LED_1_TO_4_OS          ;KEY_2_DOWN LED_2_OPEN
                        0-637                          
             [0000096D] 0-638          KEY_2_UP:
     00096D  011E       0-639                          MOVRA   ACC_TEMP2
     00096E  03D2       0-640                          SAB1    BIT1  
     00096F  0202 0174  0-641                          JMP     KEY_3_DOWN
     000971  0138       0-642                          MOVRA   SCAN_LED_1_TO_4_OS
     000972  0392       0-643                          ORI     BIT1
     000973  0038       0-644                          MOVAR   SCAN_LED_1_TO_4_OS          ;KEY_2_UP LED_2_CLOSE
                        0-645          
                        0-646                          ;-----------------------
             [00000974] 0-647          KEY_3_DOWN:
     000974  011D       0-648                          MOVRA   ACC_TEMP1
     000975  03D4       0-649                          SAB1    BIT2  
     000976  0202 0179  0-650                          JMP     KEY_3_UP
     000978  03FF       0-651                          NOP
             [00000979] 0-652          KEY_3_UP:
     000979  011E       0-653                          MOVRA   ACC_TEMP2
     00097A  03D4       0-654                          SAB1    BIT2  
     00097B  0202 0191  0-655                          JMP     KEY_4_DOWN
                        0-656                          
     00097D  013E       0-657                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     00097E  03D4       0-658                          SAB1    BIT2
     00097F  0202 0183  0-659                          JMP     KEY_3_D_LED_3_OPEN
     000981  0202 018B  0-660                          JMP     KEY_3_D_LED_3_CLOSE
             [00000983] 0-661          KEY_3_D_LED_3_OPEN:                
     000983  0138       0-662                          MOVRA   SCAN_LED_1_TO_4_OS
     000984  038B       0-663                          ANDI    #1011B
     000985  0038       0-664                          MOVAR   SCAN_LED_1_TO_4_OS
     000986  013E       0-665                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     000987  0394       0-666                          ORI     #0100B
     000988  003E       0-667                          MOVAR   KEY4_TIMER_FLAG_CONTROL
     000989  0202 0191  0-668                          JMP     KEY_4_DOWN
             [0000098B] 0-669          KEY_3_D_LED_3_CLOSE:
     00098B  0138       0-670                          MOVRA   SCAN_LED_1_TO_4_OS
     00098C  0394       0-671                          ORI     #0100B
     00098D  0038       0-672                          MOVAR   SCAN_LED_1_TO_4_OS
     00098E  013E       0-673                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     00098F  038B       0-674                          ANDI    #1011B
     000990  003E       0-675                          MOVAR   KEY4_TIMER_FLAG_CONTROL
                        0-676                          ;-----------------------                
             [00000991] 0-677          KEY_4_DOWN:
     000991  011D       0-678                          MOVRA   ACC_TEMP1
     000992  03D8       0-679                          SAB1    BIT3  
     000993  0202 019B  0-680                          JMP     KEY_4_UP
     000995  03E0       0-681                          MOVIA   #0000B                      ;KEY_4按下 3S_CNT清0和KEY4_TMR_START_FLAG 
     000996  003C       0-682                          MOVAR   KEY4_3S_CNT_BIT4            ;3S_CNT_BIT4  清0 
     000997  003D       0-683                          MOVAR   KEY4_3S_CNT_BIT8            ;3S_CNT_BIT8  清0
     000998  013E       0-684                          MOVRA   KEY4_TIMER_FLAG_CONTROL     ;KEY4_TIMER_START_FLAG (BIT0)
     000999  0391       0-685                          ORI     BIT0
     00099A  003E       0-686                          MOVAR   KEY4_TIMER_FLAG_CONTROL
             [0000099B] 0-687          KEY_4_UP:
     00099B  011E       0-688                          MOVRA   ACC_TEMP2
     00099C  03D8       0-689                          SAB1    BIT3  
     00099D  0202 00D7  0-690                          JMP     KEY_SCAN_LINE_CHANGE
     00099F  013E       0-691                          MOVRA   KEY4_TIMER_FLAG_CONTROL     ;KEY_4放開  
     0009A0  03D2       0-692                          SAB1    BIT1                        ;判斷KEY4_TMR_FINISH_FLAG (BIT1) 
     0009A1  0202 01A5  0-693                          JMP     LED_4_OPEN                  ;FINISH_FLAG=0 => LED_4 亮 
     0009A3  0202 01AA  0-694                          JMP     LED_4_CLOSE                 ;FINISH_FLAG=1 => LED_4 滅 
             [000009A5] 0-695          LED_4_OPEN:
     0009A5  0138       0-696                          MOVRA   SCAN_LED_1_TO_4_OS
     0009A6  0387       0-697                          ANDI    ~BIT3
     0009A7  0038       0-698                          MOVAR   SCAN_LED_1_TO_4_OS
     0009A8  0202 01AD  0-699                          JMP     KEY4_TIMER_RESET 
             [000009AA] 0-700          LED_4_CLOSE:
     0009AA  0138       0-701                          MOVRA   SCAN_LED_1_TO_4_OS
     0009AB  0398       0-702                          ORI     BIT3
     0009AC  0038       0-703                          MOVAR   SCAN_LED_1_TO_4_OS
             [000009AD] 0-704          KEY4_TIMER_RESET:
     0009AD  013E       0-705                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     0009AE  038C       0-706                          ANDI    #1100B
     0009AF  003E       0-707                          MOVAR   KEY4_TIMER_FLAG_CONTROL     ;KEY4_TIMER_FLAG_CONTROL清0 
                        0-708                          ;-----------------------               
     0009B0  0202 00D7  0-709                          JMP     KEY_SCAN_LINE_CHANGE     
                        0-710          ;---------------------------------------------------------------------------------
             [000009B2] 0-711          KEY_5_TO_8_ACTION:
     0009B2  0151       0-712                          MOVRA   SPECIAL_FLAG
     0009B3  03D1       0-713          		        SAB1    BIT0
     0009B4  0202 01BE  0-714                          JMP     KEY_5_DOWN
     0009B6  03E0       0-715                          MOVIA   #0000B
     0009B7  003F       0-716                          MOVAR   KEY_5_TO_8_OS
     0009B8  0045       0-717                          MOVAR   KEY_9_TO_12_OS
     0009B9  03EF       0-718                          MOVIA   #1111B
     0009BA  0038       0-719                          MOVAR   SCAN_LED_1_TO_4_OS
     0009BB  0039       0-720                          MOVAR   SCAN_LED_5_TO_8_OS
     0009BC  003A       0-721                          MOVAR   SCAN_LED_9_TO_12_OS
     0009BD  003B       0-722                          MOVAR   SCAN_LED_13_TO_16_OS
             [000009BE] 0-723          KEY_5_DOWN:
     0009BE  011D       0-724                          MOVRA   ACC_TEMP1
     0009BF  03D1       0-725                          SAB1    BIT0  
     0009C0  0202 01CC  0-726                          JMP     KEY_5_UP
                        0-727                          ;
     0009C2  03E0       0-728                          MOVIA   #0000B
     0009C3  0051       0-729                          MOVAR   SPECIAL_FLAG
                        0-730                          ;OUTPUT 10MS
     0009C4  013F       0-731                          MOVRA   KEY_5_TO_8_OS
     0009C5  03A1       0-732                          XORI    BIT0
     0009C6  003F       0-733                          MOVAR   KEY_5_TO_8_OS
     0009C7  03E0       0-734                          MOVIA   #0000B                      
     0009C8  0041       0-735                          MOVAR   LED_5_10MS_CNT
     0009C9  0140       0-736                          MOVRA   LED_BASE_2MS_FLAG
     0009CA  038E       0-737                          ANDI    ~BIT0
     0009CB  0040       0-738                          MOVAR   LED_BASE_2MS_FLAG   
             [000009CC] 0-739          KEY_5_UP:
     0009CC  011E       0-740                          MOVRA   ACC_TEMP2
     0009CD  03D1       0-741                          SAB1    BIT0  
     0009CE  0202 01D1  0-742                          JMP     KEY_6_DOWN
                        0-743                          ;
     0009D0  03FF       0-744                          NOP               
                        0-745                          ;
             [000009D1] 0-746          KEY_6_DOWN:
     0009D1  011D       0-747                          MOVRA   ACC_TEMP1
     0009D2  03D2       0-748                          SAB1    BIT1  
     0009D3  0202 01DF  0-749                          JMP     KEY_6_UP
                        0-750                          ;
     0009D5  03E0       0-751                          MOVIA   #0000B
     0009D6  0051       0-752                          MOVAR   SPECIAL_FLAG
                        0-753                          ;OUTPU 10MS
     0009D7  013F       0-754                          MOVRA   KEY_5_TO_8_OS
     0009D8  03A2       0-755                          XORI    BIT1
     0009D9  003F       0-756                          MOVAR   KEY_5_TO_8_OS
     0009DA  03E0       0-757                          MOVIA   #0000B                      
     0009DB  0042       0-758                          MOVAR   LED_6_10MS_CNT
     0009DC  0140       0-759                          MOVRA   LED_BASE_2MS_FLAG
     0009DD  038D       0-760                          ANDI    ~BIT1
     0009DE  0040       0-761                          MOVAR   LED_BASE_2MS_FLAG
             [000009DF] 0-762          KEY_6_UP:
     0009DF  011E       0-763                          MOVRA   ACC_TEMP2
     0009E0  03D2       0-764                          SAB1    BIT1  
     0009E1  0202 01E4  0-765                          JMP     KEY_7_DOWN
                        0-766                          
     0009E3  03FF       0-767                          NOP
                        0-768                          
             [000009E4] 0-769          KEY_7_DOWN:
     0009E4  011D       0-770                          MOVRA   ACC_TEMP1
     0009E5  03D4       0-771                          SAB1    BIT2  
     0009E6  0202 01F2  0-772                          JMP     KEY_7_UP
                        0-773                          ;
     0009E8  03E0       0-774                          MOVIA   #0000B
     0009E9  0051       0-775                          MOVAR   SPECIAL_FLAG
                        0-776                          ;OUTPUT 10MS
     0009EA  013F       0-777                          MOVRA   KEY_5_TO_8_OS
     0009EB  03A4       0-778                          XORI    BIT2
     0009EC  003F       0-779                          MOVAR   KEY_5_TO_8_OS
     0009ED  03E0       0-780                          MOVIA   #0000B                      
     0009EE  0043       0-781                          MOVAR   LED_7_10MS_CNT
     0009EF  0140       0-782                          MOVRA   LED_BASE_2MS_FLAG
     0009F0  038B       0-783                          ANDI    ~BIT2
     0009F1  0040       0-784                          MOVAR   LED_BASE_2MS_FLAG
             [000009F2] 0-785          KEY_7_UP:
     0009F2  011E       0-786                          MOVRA   ACC_TEMP2
     0009F3  03D4       0-787                          SAB1    BIT2  
     0009F4  0202 01F7  0-788                          JMP     KEY_8_DOWN
                        0-789                          
     0009F6  03FF       0-790                          NOP
                        0-791                          
             [000009F7] 0-792          KEY_8_DOWN:
     0009F7  011D       0-793                          MOVRA   ACC_TEMP1
     0009F8  03D8       0-794                          SAB1    BIT3  
     0009F9  0202 0205  0-795                          JMP     KEY_8_UP
                        0-796                          ;
     0009FB  03E0       0-797                          MOVIA   #0000B
     0009FC  0051       0-798                          MOVAR   SPECIAL_FLAG
                        0-799                          ;OUTPUT 10MS
     0009FD  013F       0-800                          MOVRA   KEY_5_TO_8_OS
     0009FE  03A8       0-801                          XORI    BIT3
     0009FF  003F       0-802                          MOVAR   KEY_5_TO_8_OS
     000A00  03E0       0-803                          MOVIA   #0000B                      
     000A01  0044       0-804                          MOVAR   LED_8_10MS_CNT
     000A02  0140       0-805                          MOVRA   LED_BASE_2MS_FLAG
     000A03  0387       0-806                          ANDI    ~BIT3
     000A04  0040       0-807                          MOVAR   LED_BASE_2MS_FLAG
             [00000A05] 0-808          KEY_8_UP:
     000A05  011E       0-809                          MOVRA   ACC_TEMP2
     000A06  03D8       0-810                          SAB1    BIT3  
     000A07  0202 00D7  0-811                          JMP     KEY_SCAN_LINE_CHANGE
                        0-812                          
     000A09  03FF       0-813                          NOP
                        0-814                          
     000A0A  0202 00D7  0-815                          JMP     KEY_SCAN_LINE_CHANGE
                        0-816          ;---------------------------------------------------------------------------------
             [00000A0C] 0-817          KEY_9_TO_12_ACTION:
     000A0C  0151       0-818                          MOVRA   SPECIAL_FLAG
     000A0D  03D1       0-819          		        SAB1    BIT0
     000A0E  0202 0218  0-820                          JMP     KEY_9_DOWN
     000A10  03E0       0-821                          MOVIA   #0000B
     000A11  003F       0-822                          MOVAR   KEY_5_TO_8_OS
     000A12  0045       0-823                          MOVAR   KEY_9_TO_12_OS
     000A13  03EF       0-824                          MOVIA   #1111B
     000A14  0038       0-825                          MOVAR   SCAN_LED_1_TO_4_OS
     000A15  0039       0-826                          MOVAR   SCAN_LED_5_TO_8_OS
     000A16  003A       0-827                          MOVAR   SCAN_LED_9_TO_12_OS
     000A17  003B       0-828                          MOVAR   SCAN_LED_13_TO_16_OS
             [00000A18] 0-829          KEY_9_DOWN:
     000A18  011D       0-830                          MOVRA   ACC_TEMP1
     000A19  03D1       0-831                          SAB1    BIT0  
     000A1A  0202 0226  0-832                          JMP     KEY_9_UP
                        0-833                          
     000A1C  03E0       0-834                          MOVIA   #0000B
     000A1D  0051       0-835                          MOVAR   SPECIAL_FLAG
                        0-836                          ;OUTPUT 50MS
     000A1E  0145       0-837                          MOVRA   KEY_9_TO_12_OS
     000A1F  03A1       0-838                          XORI    BIT0
     000A20  0045       0-839                          MOVAR   KEY_9_TO_12_OS
     000A21  03E0       0-840                          MOVIA   #0000B                      
     000A22  0047       0-841                          MOVAR   LED_9_50MS_CNT
     000A23  0146       0-842                          MOVRA   LED_BASE_10MS_FLAG
     000A24  038E       0-843                          ANDI    ~BIT0
     000A25  0046       0-844                          MOVAR   LED_BASE_10MS_FLAG
             [00000A26] 0-845          KEY_9_UP:
     000A26  011E       0-846                          MOVRA   ACC_TEMP2
     000A27  03D1       0-847                          SAB1    BIT0  
     000A28  0202 022B  0-848                          JMP     KEY_10_DOWN
     000A2A  03FF       0-849                          NOP
             [00000A2B] 0-850          KEY_10_DOWN:
     000A2B  011D       0-851                          MOVRA   ACC_TEMP1
     000A2C  03D2       0-852                          SAB1    BIT1  
     000A2D  0202 0239  0-853                          JMP     KEY_10_UP
                        0-854                          
     000A2F  03E0       0-855                          MOVIA   #0000B
     000A30  0051       0-856                          MOVAR   SPECIAL_FLAG
                        0-857                          ;OUTPUT 50MS
     000A31  0145       0-858                          MOVRA   KEY_9_TO_12_OS
     000A32  03A2       0-859                          XORI    BIT1
     000A33  0045       0-860                          MOVAR   KEY_9_TO_12_OS
     000A34  03E0       0-861                          MOVIA   #0000B                      
     000A35  0048       0-862                          MOVAR   LED_10_50MS_CNT
     000A36  0146       0-863                          MOVRA   LED_BASE_10MS_FLAG
     000A37  038D       0-864                          ANDI    ~BIT1
     000A38  0046       0-865                          MOVAR   LED_BASE_10MS_FLAG
             [00000A39] 0-866          KEY_10_UP:
     000A39  011E       0-867                          MOVRA   ACC_TEMP2
     000A3A  03D2       0-868                          SAB1    BIT1  
     000A3B  0202 023D  0-869                          JMP     KEY_11_DOWN
             [00000A3D] 0-870          KEY_11_DOWN:
     000A3D  011D       0-871                          MOVRA   ACC_TEMP1
     000A3E  03D4       0-872                          SAB1    BIT2  
     000A3F  0202 024B  0-873                          JMP     KEY_11_UP
                        0-874                          
     000A41  03E0       0-875                          MOVIA   #0000B
     000A42  0051       0-876                          MOVAR   SPECIAL_FLAG
                        0-877                          ;OUTPUT 50MS
     000A43  0145       0-878                          MOVRA   KEY_9_TO_12_OS
     000A44  03A4       0-879                          XORI    BIT2
     000A45  0045       0-880                          MOVAR   KEY_9_TO_12_OS
     000A46  03E0       0-881                          MOVIA   #0000B                      
     000A47  0049       0-882                          MOVAR   LED_11_50MS_CNT
     000A48  0146       0-883                          MOVRA   LED_BASE_10MS_FLAG
     000A49  038B       0-884                          ANDI    ~BIT2
     000A4A  0046       0-885                          MOVAR   LED_BASE_10MS_FLAG
             [00000A4B] 0-886          KEY_11_UP:
     000A4B  011E       0-887                          MOVRA   ACC_TEMP2
     000A4C  03D4       0-888                          SAB1    BIT2  
     000A4D  0202 024F  0-889                          JMP     KEY_12_DOWN
             [00000A4F] 0-890          KEY_12_DOWN:
     000A4F  011D       0-891                          MOVRA   ACC_TEMP1
     000A50  03D8       0-892                          SAB1    BIT3  
     000A51  0202 025D  0-893                          JMP     KEY_12_UP
                        0-894                          
     000A53  03E0       0-895                          MOVIA   #0000B
     000A54  0051       0-896                          MOVAR   SPECIAL_FLAG
                        0-897                          ;OUTPUT 50MS
     000A55  0145       0-898                          MOVRA   KEY_9_TO_12_OS
     000A56  03A8       0-899                          XORI    BIT3
     000A57  0045       0-900                          MOVAR   KEY_9_TO_12_OS
     000A58  03E0       0-901                          MOVIA   #0000B                      
     000A59  004A       0-902                          MOVAR   LED_12_50MS_CNT
     000A5A  0146       0-903                          MOVRA   LED_BASE_10MS_FLAG
     000A5B  0387       0-904                          ANDI    ~BIT3
     000A5C  0046       0-905                          MOVAR   LED_BASE_10MS_FLAG
             [00000A5D] 0-906          KEY_12_UP:
     000A5D  011E       0-907                          MOVRA   ACC_TEMP2
     000A5E  03D8       0-908                          SAB1    BIT3  
     000A5F  0202 00D7  0-909                          JMP     KEY_SCAN_LINE_CHANGE
     000A61  0202 00D7  0-910                          JMP     KEY_SCAN_LINE_CHANGE
                        0-911          ;---------------------------------------------------------------------------------
             [00000A63] 0-912          KEY_13_TO_16_ACTION:
     000A63  03FF       0-913                          NOP                
     000A64  0151       0-914                          MOVRA   SPECIAL_FLAG
     000A65  0391       0-915                          ORI     #0001B
     000A66  0051       0-916                          MOVAR   SPECIAL_FLAG
             [00000A67] 0-917          KEY_13_DOWN:
     000A67  011D       0-918                          MOVRA   ACC_TEMP1
     000A68  03D1       0-919                          SAB1    BIT0  
     000A69  0202 0275  0-920                          JMP     KEY_13_UP
                        0-921                          ;全亮
     000A6B  03E0       0-922                          MOVIA   #0000B
     000A6C  0038       0-923                          MOVAR   SCAN_LED_1_TO_4_OS
     000A6D  0039       0-924                          MOVAR   SCAN_LED_5_TO_8_OS
     000A6E  003A       0-925                          MOVAR   SCAN_LED_9_TO_12_OS
     000A6F  003B       0-926                          MOVAR   SCAN_LED_13_TO_16_OS
     000A70  0052       0-927                          MOVAR   SPIRAL_CNT
     000A71  0053       0-928                          MOVAR   SPIRAL_TMR_CNT
     000A72  0151       0-929                          MOVRA   SPECIAL_FLAG
     000A73  0389       0-930                          ANDI    #1001B
     000A74  0051       0-931                          MOVAR   SPECIAL_FLAG
                        0-932                           
             [00000A75] 0-933          KEY_13_UP:
     000A75  011E       0-934                          MOVRA   ACC_TEMP2
     000A76  03D1       0-935                          SAB1    BIT0  
     000A77  0202 0279  0-936                          JMP     KEY_14_DOWN
             [00000A79] 0-937          KEY_14_DOWN:
     000A79  011D       0-938                          MOVRA   ACC_TEMP1
     000A7A  03D2       0-939                          SAB1    BIT1  
     000A7B  0202 0288  0-940                          JMP     KEY_14_UP
                        0-941                          ;全滅
     000A7D  03E0       0-942                          MOVIA   #0000B
     000A7E  0052       0-943                          MOVAR   SPIRAL_CNT
     000A7F  0053       0-944                          MOVAR   SPIRAL_TMR_CNT
     000A80  0151       0-945                          MOVRA   SPECIAL_FLAG
     000A81  0389       0-946                          ANDI    #1001B
     000A82  0051       0-947                          MOVAR   SPECIAL_FLAG
     000A83  03EF       0-948                          MOVIA   #1111B
     000A84  0038       0-949                          MOVAR   SCAN_LED_1_TO_4_OS
     000A85  0039       0-950                          MOVAR   SCAN_LED_5_TO_8_OS
     000A86  003A       0-951                          MOVAR   SCAN_LED_9_TO_12_OS
     000A87  003B       0-952                          MOVAR   SCAN_LED_13_TO_16_OS
                        0-953                           
             [00000A88] 0-954          KEY_14_UP:
     000A88  011E       0-955                          MOVRA   ACC_TEMP2
     000A89  03D2       0-956                          SAB1    BIT1  
     000A8A  0202 028C  0-957                          JMP     KEY_15_DOWN
             [00000A8C] 0-958          KEY_15_DOWN:
     000A8C  011D       0-959                          MOVRA   ACC_TEMP1
     000A8D  03D4       0-960                          SAB1    BIT2  
     000A8E  0202 0297  0-961                          JMP     KEY_15_UP
                        0-962                          ;
     000A90  03E0       0-963                          MOVIA   #0000B
     000A91  0052       0-964                          MOVAR   SPIRAL_CNT
     000A92  0053       0-965                          MOVAR   SPIRAL_TMR_CNT
                        0-966                          ;單顆螺旋
     000A93  0151       0-967                          MOVRA   SPECIAL_FLAG
     000A94  0389       0-968                          ANDI    #1001B
     000A95  0392       0-969                          ORI     #0010B
     000A96  0051       0-970                          MOVAR   SPECIAL_FLAG
                        0-971          
             [00000A97] 0-972          KEY_15_UP:
     000A97  011E       0-973                          MOVRA   ACC_TEMP2
     000A98  03D4       0-974                          SAB1    BIT2  
     000A99  0202 029B  0-975                          JMP     KEY_16_DOWN
             [00000A9B] 0-976          KEY_16_DOWN:
     000A9B  011D       0-977                          MOVRA   ACC_TEMP1
     000A9C  03D8       0-978                          SAB1    BIT3  
     000A9D  0202 02B6  0-979                          JMP     KEY_16_UP
                        0-980                          ;
     000A9F  03E0       0-981                          MOVIA   #0000B
     000AA0  0052       0-982                          MOVAR   SPIRAL_CNT
     000AA1  0053       0-983                          MOVAR   SPIRAL_TMR_CNT                
                        0-984                          ;第一次 X 第二次O
                        0-985                          ;TEST O X
     000AA2  0151       0-986                          MOVRA   SPECIAL_FLAG
     000AA3  0389       0-987                          ANDI    #1001B
     000AA4  0394       0-988                          ORI     #0100B
     000AA5  0051       0-989                          MOVAR   SPECIAL_FLAG
                        0-990                          
     000AA6  013E       0-991                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     000AA7  03D8       0-992                          SAB1    BIT3
     000AA8  0202 02AC  0-993                          JMP     CIRCLE_FORK_CNT_INC
     000AAA  0202 02B1  0-994                          JMP     CIRCLE_FORK_CNT_DEC
             [00000AAC] 0-995          CIRCLE_FORK_CNT_INC:
     000AAC  013E       0-996                          MOVRA   KEY4_TIMER_FLAG_CONTROL
     000AAD  0398       0-997                          ORI     #1000B
     000AAE  003E       0-998                          MOVAR   KEY4_TIMER_FLAG_CONTROL
     000AAF  0202 02B6  0-999                          JMP     KEY_16_UP
             [00000AB1] 0-1000         CIRCLE_FORK_CNT_DEC:
     000AB1  013E       0-1001                         MOVRA   KEY4_TIMER_FLAG_CONTROL
     000AB2  0387       0-1002                         ANDI    #0111B
     000AB3  003E       0-1003                         MOVAR   KEY4_TIMER_FLAG_CONTROL
     000AB4  0202 02B6  0-1004                         JMP     KEY_16_UP 
             [00000AB6] 0-1005         KEY_16_UP:
     000AB6  011E       0-1006                         MOVRA   ACC_TEMP2
     000AB7  03D8       0-1007                         SAB1    BIT3  
     000AB8  0202 00D7  0-1008                         JMP     KEY_SCAN_LINE_CHANGE
     000ABA  0202 00D7  0-1009                         JMP     KEY_SCAN_LINE_CHANGE
                        0-1010         ;===============================================================================
             [00000ABC] 0-1011         OUTPUT_10MS:                
     000ABC  03FF       0-1012                         NOP
     000ABD  0151       0-1013                         MOVRA   SPECIAL_FLAG
     000ABE  03D1       0-1014                         SAB1    BIT0
     000ABF  0202 02C3  0-1015                         JMP     LED_5_OPEN
     000AC1  0202 0337  0-1016                         JMP     OUTPUT_10MS_END                
                        0-1017                         
             [00000AC3] 0-1018         LED_5_OPEN:
     000AC3  013F       0-1019                         MOVRA   KEY_5_TO_8_OS
     000AC4  03D1       0-1020                         SAB1    BIT0
     000AC5  0202 02DB  0-1021                         JMP     LED_5_CLOSE
                        0-1022         
     000AC7  0140       0-1023                         MOVRA   LED_BASE_2MS_FLAG                                    
     000AC8  03D1       0-1024                         SAB1    BIT0                        ;判斷2MS_FLAG(BIT0) 
     000AC9  0202 02E0  0-1025                         JMP     LED_6_OPEN                  ;BIT0=0 => NEXT LED_6_OPEN
                        0-1026                         
     000ACB  0140       0-1027                         MOVRA   LED_BASE_2MS_FLAG           
     000ACC  038E       0-1028                         ANDI    ~BIT0 
     000ACD  0040       0-1029                         MOVAR   LED_BASE_2MS_FLAG           ;BIT0=1 => 2MS_FLAG 清0 
                        0-1030                         ;---------------------------
     000ACE  0141       0-1031                         MOVRA   LED_5_10MS_CNT
     000ACF  03F8       0-1032                         INCA                                ;LED_5_10MS_CNT +1
     000AD0  0041       0-1033                         MOVAR   LED_5_10MS_CNT
     000AD1  0365       0-1034                         SAEQI   #5H                         ;判斷LED_5_10MS_CNT = 2MS * 5次                 
     000AD2  0202 02E0  0-1035                         JMP     LED_6_OPEN
                        0-1036                          
     000AD4  03E0       0-1037                         MOVIA   #0000B                      
     000AD5  0041       0-1038                         MOVAR   LED_5_10MS_CNT              ;LED_5_10MS_CNT 清0 
                        0-1039                         ;--------------------------- 
     000AD6  0139       0-1040                         MOVRA   SCAN_LED_5_TO_8_OS
     000AD7  03A1       0-1041                         XORI    BIT0
     000AD8  0039       0-1042                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_5_OPEN/CLOSE
     000AD9  0202 02E0  0-1043                         JMP     LED_6_OPEN
                        0-1044                         
             [00000ADB] 0-1045         LED_5_CLOSE:
     000ADB  0139       0-1046                         MOVRA   SCAN_LED_5_TO_8_OS
     000ADC  0391       0-1047                         ORI     BIT0
     000ADD  0039       0-1048                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_5_CLOSE
     000ADE  0202 02E0  0-1049                         JMP     LED_6_OPEN                 
                        0-1050             ;------------------------------------------
             [00000AE0] 0-1051         LED_6_OPEN:            
     000AE0  013F       0-1052                         MOVRA   KEY_5_TO_8_OS
     000AE1  03D2       0-1053                         SAB1    BIT1
     000AE2  0202 02F8  0-1054                         JMP     LED_6_CLOSE
                        0-1055         
     000AE4  0140       0-1056                         MOVRA   LED_BASE_2MS_FLAG                                    
     000AE5  03D2       0-1057                         SAB1    BIT1                        ;判斷2MS_FLAG(BIT1) 
     000AE6  0202 02FD  0-1058                         JMP     LED_7_OPEN                  ;BIT1=0 => NEXT LED_7_OPEN
                        0-1059                         
     000AE8  0140       0-1060                         MOVRA   LED_BASE_2MS_FLAG           
     000AE9  038D       0-1061                         ANDI    ~BIT1 
     000AEA  0040       0-1062                         MOVAR   LED_BASE_2MS_FLAG           ;BIT1=1 => 2MS_FLAG 清0
                        0-1063                         ;---------------------------
     000AEB  0142       0-1064                         MOVRA   LED_6_10MS_CNT
     000AEC  03F8       0-1065                         INCA                                ;LED_6_10MS_CNT +1
     000AED  0042       0-1066                         MOVAR   LED_6_10MS_CNT
     000AEE  0365       0-1067                         SAEQI   #5H                         ;判斷LED_6_10MS_CNT = 2MS * 5次 
     000AEF  0202 02FD  0-1068                         JMP     LED_7_OPEN
                        0-1069                          
     000AF1  03E0       0-1070                         MOVIA   #0000B                      
     000AF2  0042       0-1071                         MOVAR   LED_6_10MS_CNT              ;LED_6_10MS_CNT 清0
                        0-1072                         ;--------------------------- 
     000AF3  0139       0-1073                         MOVRA   SCAN_LED_5_TO_8_OS
     000AF4  03A2       0-1074                         XORI    BIT1
     000AF5  0039       0-1075                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_6_OPEN/CLOSE
     000AF6  0202 02FD  0-1076                         JMP     LED_7_OPEN
                        0-1077                                         
             [00000AF8] 0-1078         LED_6_CLOSE:                
     000AF8  0139       0-1079                         MOVRA   SCAN_LED_5_TO_8_OS
     000AF9  0392       0-1080                         ORI     BIT1
     000AFA  0039       0-1081                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_6_CLOSE
     000AFB  0202 02FD  0-1082                         JMP     LED_7_OPEN                                 
                        0-1083              ;-------------------------------------------                
             [00000AFD] 0-1084         LED_7_OPEN:            
     000AFD  013F       0-1085                         MOVRA   KEY_5_TO_8_OS
     000AFE  03D4       0-1086                         SAB1    BIT2
     000AFF  0202 0315  0-1087                         JMP     LED_7_CLOSE
                        0-1088         
     000B01  0140       0-1089                         MOVRA   LED_BASE_2MS_FLAG                                    
     000B02  03D4       0-1090                         SAB1    BIT2                        ;判斷2MS_FLAG(BIT2) 
     000B03  0202 031A  0-1091                         JMP     LED_8_OPEN                  ;BIT2=0 => NEXT LED_7_OPEN
                        0-1092                         
     000B05  0140       0-1093                         MOVRA   LED_BASE_2MS_FLAG          
     000B06  038B       0-1094                         ANDI    ~BIT2 
     000B07  0040       0-1095                         MOVAR   LED_BASE_2MS_FLAG           ;BIT2=1 => 2MS_FLAG 清0
                        0-1096                         ;---------------------------
     000B08  0143       0-1097                         MOVRA   LED_7_10MS_CNT
     000B09  03F8       0-1098                         INCA                                ;LED_7_10MS_CNT +1
     000B0A  0043       0-1099                         MOVAR   LED_7_10MS_CNT
     000B0B  0365       0-1100                         SAEQI   #5H                         ;判斷LED_7_10MS_CNT = 2MS * 5次 
     000B0C  0202 031A  0-1101                         JMP     LED_8_OPEN
                        0-1102                          
     000B0E  03E0       0-1103                         MOVIA   #0000B                                            
     000B0F  0043       0-1104                         MOVAR   LED_7_10MS_CNT              ;LED_7_10MS_CNT 清0
                        0-1105                         ;--------------------------- 
     000B10  0139       0-1106                         MOVRA   SCAN_LED_5_TO_8_OS
     000B11  03A4       0-1107                         XORI    BIT2
     000B12  0039       0-1108                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_7_OPEN/CLOSE
     000B13  0202 031A  0-1109                         JMP     LED_8_OPEN
                        0-1110                                         
             [00000B15] 0-1111         LED_7_CLOSE:                 
     000B15  0139       0-1112                         MOVRA   SCAN_LED_5_TO_8_OS
     000B16  0394       0-1113                         ORI     BIT2
     000B17  0039       0-1114                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_7_CLOSE              
     000B18  0202 031A  0-1115                         JMP     LED_8_OPEN                     
                        0-1116              ;-------------------------------------------                
             [00000B1A] 0-1117         LED_8_OPEN:            
     000B1A  013F       0-1118                         MOVRA   KEY_5_TO_8_OS
     000B1B  03D8       0-1119                         SAB1    BIT3
     000B1C  0202 0332  0-1120                         JMP     LED_8_CLOSE
                        0-1121         
     000B1E  0140       0-1122                         MOVRA   LED_BASE_2MS_FLAG                                    
     000B1F  03D8       0-1123                         SAB1    BIT3                        ;判斷2MS_FLAG(BIT3) 
     000B20  0202 0337  0-1124                         JMP     OUTPUT_10MS_END             ;BIT2=0 => END
     000B22  0140       0-1125                         MOVRA   LED_BASE_2MS_FLAG           
     000B23  0387       0-1126                         ANDI    ~BIT3 
     000B24  0040       0-1127                         MOVAR   LED_BASE_2MS_FLAG           ;BIT3=1 => 2MS_FLAG 清0
                        0-1128                         ;---------------------------
     000B25  0144       0-1129                         MOVRA   LED_8_10MS_CNT
     000B26  03F8       0-1130                         INCA                                ;LED_8_10MS_CNT +1    
     000B27  0044       0-1131                         MOVAR   LED_8_10MS_CNT
     000B28  0365       0-1132                         SAEQI   #5H                         ;判斷LED_8_10MS_CNT = 2MS * 5次 
     000B29  0202 0337  0-1133                         JMP     OUTPUT_10MS_END 
     000B2B  03E0       0-1134                         MOVIA   #0000B                      
     000B2C  0044       0-1135                         MOVAR   LED_8_10MS_CNT              ;LED_8_10MS_CNT 清0
                        0-1136                         ;--------------------------- 
     000B2D  0139       0-1137                         MOVRA   SCAN_LED_5_TO_8_OS          ;LED_8_OPEN/CLOSE
     000B2E  03A8       0-1138                         XORI    BIT3
     000B2F  0039       0-1139                         MOVAR   SCAN_LED_5_TO_8_OS
     000B30  0202 0337  0-1140                         JMP     OUTPUT_10MS_END                
             [00000B32] 0-1141         LED_8_CLOSE:                 
     000B32  0139       0-1142                         MOVRA   SCAN_LED_5_TO_8_OS
     000B33  0398       0-1143                         ORI     BIT3
     000B34  0039       0-1144                         MOVAR   SCAN_LED_5_TO_8_OS          ;LED_8_CLOSE
     000B35  0202 0337  0-1145                         JMP     OUTPUT_10MS_END                
             [00000B37] 0-1146         OUTPUT_10MS_END:
     000B37  03FB       0-1147                         RET
                        0-1148         ;===============================================================================                
             [00000B38] 0-1149         OUTPUT_50MS:                
     000B38  03FF       0-1150                         NOP
     000B39  0151       0-1151                         MOVRA   SPECIAL_FLAG
     000B3A  03D1       0-1152                         SAB1    BIT0
     000B3B  0202 033F  0-1153                         JMP     LED_9_OPEN
     000B3D  0202 03B3  0-1154                         JMP     OUTPUT_50MS_END
             [00000B3F] 0-1155         LED_9_OPEN:
     000B3F  0145       0-1156                         MOVRA   KEY_9_TO_12_OS
     000B40  03D1       0-1157                         SAB1    BIT0
     000B41  0202 0357  0-1158                         JMP     LED_9_CLOSE
                        0-1159         
     000B43  0146       0-1160                         MOVRA   LED_BASE_10MS_FLAG                                    
     000B44  03D1       0-1161                         SAB1    BIT0                        ;判斷10MS_FLAG(BIT0) 
     000B45  0202 035C  0-1162                         JMP     LED_10_OPEN                 ;BIT0=0 => NEXT LED_10_OPEN
                        0-1163                         
     000B47  0146       0-1164                         MOVRA   LED_BASE_10MS_FLAG
     000B48  038E       0-1165                         ANDI    ~BIT0 
     000B49  0046       0-1166                         MOVAR   LED_BASE_10MS_FLAG          ;BIT0=1 => 10MS_FLAG 清0
                        0-1167                         ;---------------------------
     000B4A  0147       0-1168                         MOVRA   LED_9_50MS_CNT
     000B4B  03F8       0-1169                         INCA                                ;LED_9_50MS_CNT +1
     000B4C  0047       0-1170                         MOVAR   LED_9_50MS_CNT
     000B4D  0365       0-1171                         SAEQI   #5H                         ;判斷LED_9_50MS_CNT = 10MS * 5次                 
     000B4E  0202 035C  0-1172                         JMP     LED_10_OPEN
                        0-1173                          
     000B50  03E0       0-1174                         MOVIA   #0000B                                            
     000B51  0047       0-1175                         MOVAR   LED_9_50MS_CNT              ;LED_9_50MS_CNT 清0
                        0-1176                         ;--------------------------- 
     000B52  013A       0-1177                         MOVRA   SCAN_LED_9_TO_12_OS
     000B53  03A1       0-1178                         XORI    BIT0
     000B54  003A       0-1179                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_9_OPEN/CLOSE
     000B55  0202 035C  0-1180                         JMP     LED_10_OPEN
                        0-1181                         
             [00000B57] 0-1182         LED_9_CLOSE:
     000B57  013A       0-1183                         MOVRA   SCAN_LED_9_TO_12_OS
     000B58  0391       0-1184                         ORI     BIT0
     000B59  003A       0-1185                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_9_CLOSE
     000B5A  0202 035C  0-1186                         JMP     LED_10_OPEN                 
                        0-1187             ;------------------------------------------
             [00000B5C] 0-1188         LED_10_OPEN:            
     000B5C  0145       0-1189                         MOVRA   KEY_9_TO_12_OS
     000B5D  03D2       0-1190                         SAB1    BIT1
     000B5E  0202 0374  0-1191                         JMP     LED_10_CLOSE
                        0-1192         
     000B60  0146       0-1193                         MOVRA   LED_BASE_10MS_FLAG                                    
     000B61  03D2       0-1194                         SAB1    BIT1                        ;判斷10MS_FLAG(BIT1) 
     000B62  0202 0379  0-1195                         JMP     LED_11_OPEN                 ;BIT1=0 => NEXT LED_11_OPEN
                        0-1196                         
     000B64  0146       0-1197                         MOVRA   LED_BASE_10MS_FLAG          
     000B65  038D       0-1198                         ANDI    ~BIT1 
     000B66  0046       0-1199                         MOVAR   LED_BASE_10MS_FLAG          ;BIT1=1 => 10MS_FLAG 清0
                        0-1200                         ;---------------------------
     000B67  0148       0-1201                         MOVRA   LED_10_50MS_CNT
     000B68  03F8       0-1202                         INCA                                ;LED_10_50MS_CNT +1
     000B69  0048       0-1203                         MOVAR   LED_10_50MS_CNT
     000B6A  0365       0-1204                         SAEQI   #5H                         ;判斷LED_10_50MS_CNT = 10MS * 5次 
     000B6B  0202 0379  0-1205                         JMP     LED_11_OPEN
                        0-1206                          
     000B6D  03E0       0-1207                         MOVIA   #0000B                      
     000B6E  0048       0-1208                         MOVAR   LED_10_50MS_CNT             ;LED_10_50MS_CNT 清0
                        0-1209                         ;--------------------------- 
     000B6F  013A       0-1210                         MOVRA   SCAN_LED_9_TO_12_OS
     000B70  03A2       0-1211                         XORI    BIT1
     000B71  003A       0-1212                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_10_OPEN/CLOSE
     000B72  0202 0379  0-1213                         JMP     LED_11_OPEN
                        0-1214                                         
             [00000B74] 0-1215         LED_10_CLOSE:                
     000B74  013A       0-1216                         MOVRA   SCAN_LED_9_TO_12_OS
     000B75  0392       0-1217                         ORI     BIT1
     000B76  003A       0-1218                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_10_CLOSE
     000B77  0202 0379  0-1219                         JMP     LED_11_OPEN                                 
                        0-1220              ;-------------------------------------------                
             [00000B79] 0-1221         LED_11_OPEN:            
     000B79  0145       0-1222                         MOVRA   KEY_9_TO_12_OS
     000B7A  03D4       0-1223                         SAB1    BIT2
     000B7B  0202 0391  0-1224                         JMP     LED_11_CLOSE
                        0-1225         
     000B7D  0146       0-1226                         MOVRA   LED_BASE_10MS_FLAG                                    
     000B7E  03D4       0-1227                         SAB1    BIT2                        ;判斷10MS_FLAG(BIT2) 
     000B7F  0202 0396  0-1228                         JMP     LED_12_OPEN                 ;BIT2=0 => NEXT LED_12_OPEN
                        0-1229                         
     000B81  0146       0-1230                         MOVRA   LED_BASE_10MS_FLAG          
     000B82  038B       0-1231                         ANDI    ~BIT2 
     000B83  0046       0-1232                         MOVAR   LED_BASE_10MS_FLAG          ;BIT2=1 => 10MS_FLAG 清0
                        0-1233                         ;---------------------------
     000B84  0149       0-1234                         MOVRA   LED_11_50MS_CNT
     000B85  03F8       0-1235                         INCA                                ;LED_11_50MS_CNT +1
     000B86  0049       0-1236                         MOVAR   LED_11_50MS_CNT
     000B87  0365       0-1237                         SAEQI   #5H                         ;判斷LED_11_50MS_CNT = 10MS * 5次  
     000B88  0202 0396  0-1238                         JMP     LED_12_OPEN
                        0-1239                          
     000B8A  03E0       0-1240                         MOVIA   #0000B                        
     000B8B  0049       0-1241                         MOVAR   LED_11_50MS_CNT             ;LED_11_50MS_CNT 清0
                        0-1242                         ;--------------------------- 
     000B8C  013A       0-1243                         MOVRA   SCAN_LED_9_TO_12_OS
     000B8D  03A4       0-1244                         XORI    BIT2
     000B8E  003A       0-1245                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_11_OPEN/CLOSE
     000B8F  0202 0396  0-1246                         JMP     LED_12_OPEN
                        0-1247                                         
             [00000B91] 0-1248         LED_11_CLOSE:                 
     000B91  013A       0-1249                         MOVRA   SCAN_LED_9_TO_12_OS
     000B92  0394       0-1250                         ORI     BIT2
     000B93  003A       0-1251                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_11_CLOSE
     000B94  0202 0396  0-1252                         JMP     LED_12_OPEN                     
                        0-1253              ;-------------------------------------------                
             [00000B96] 0-1254         LED_12_OPEN:            
     000B96  0145       0-1255                         MOVRA   KEY_9_TO_12_OS
     000B97  03D8       0-1256                         SAB1    BIT3
     000B98  0202 03AE  0-1257                         JMP     LED_12_CLOSE
                        0-1258         
     000B9A  0146       0-1259                         MOVRA   LED_BASE_10MS_FLAG                                    
     000B9B  03D8       0-1260                         SAB1    BIT3                        ;判斷10MS_FLAG(BIT3) 
     000B9C  0202 03B3  0-1261                         JMP     OUTPUT_50MS_END             ;BIT3=0 => NEXT END
     000B9E  0146       0-1262                         MOVRA   LED_BASE_10MS_FLAG           
     000B9F  0387       0-1263                         ANDI    ~BIT3 
     000BA0  0046       0-1264                         MOVAR   LED_BASE_10MS_FLAG          ;BIT3=1 => 10MS_FLAG 清0
                        0-1265                         ;---------------------------
     000BA1  014A       0-1266                         MOVRA   LED_12_50MS_CNT
     000BA2  03F8       0-1267                         INCA                                ;LED_12_50MS_CNT +1
     000BA3  004A       0-1268                         MOVAR   LED_12_50MS_CNT
     000BA4  0365       0-1269                         SAEQI   #5H                         ;判斷LED_12_50MS_CNT = 10MS * 5次 
     000BA5  0202 03B3  0-1270                         JMP     OUTPUT_50MS_END 
     000BA7  03E0       0-1271                         MOVIA   #0000B                      
     000BA8  004A       0-1272                         MOVAR   LED_12_50MS_CNT             ;LED_12_50MS_CNT 清0
                        0-1273                         ;--------------------------- 
     000BA9  013A       0-1274                         MOVRA   SCAN_LED_9_TO_12_OS
     000BAA  03A8       0-1275                         XORI    BIT3
     000BAB  003A       0-1276                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_12_OPEN/CLOSE
     000BAC  0202 03B3  0-1277                         JMP     OUTPUT_50MS_END                
             [00000BAE] 0-1278         LED_12_CLOSE:                 
     000BAE  013A       0-1279                         MOVRA   SCAN_LED_9_TO_12_OS
     000BAF  0398       0-1280                         ORI     BIT3
     000BB0  003A       0-1281                         MOVAR   SCAN_LED_9_TO_12_OS         ;LED_12_CLOSE
     000BB1  0202 03B3  0-1282                         JMP     OUTPUT_50MS_END                
             [00000BB3] 0-1283         OUTPUT_50MS_END:
     000BB3  03FB       0-1284                         RET                
                        0-1285                         
                        0-1286         ;===============================================================================                
             [00000BB4] 0-1287         OUTPUT_75MS:                
     000BB4  03FF       0-1288                         NOP
             [00000BB5] 0-1289         LED_13_OPEN:
     000BB5  014B       0-1290                         MOVRA   KEY_13_TO_16_OS
     000BB6  03D1       0-1291                         SAB1    BIT0
     000BB7  0202 03CD  0-1292                         JMP     LED_13_CLOSE
                        0-1293         
     000BB9  014C       0-1294                         MOVRA   LED_BASE_8MS_FLAG                                    
     000BBA  03D1       0-1295                         SAB1    BIT0                        ;判斷8MS_FLAG(BIT0) 
     000BBB  0202 03D2  0-1296                         JMP     LED_14_OPEN                 ;BIT0=0 => NEXT LED_14_OPEN
                        0-1297                         
     000BBD  014C       0-1298                         MOVRA   LED_BASE_8MS_FLAG
     000BBE  038E       0-1299                         ANDI    ~BIT0 
     000BBF  004C       0-1300                         MOVAR   LED_BASE_8MS_FLAG           ;BIT0=1 => 10MS_FLAG 清0
                        0-1301                         ;---------------------------
     000BC0  014D       0-1302                         MOVRA   LED_13_75MS_CNT
     000BC1  03F8       0-1303                         INCA                                ;LED_13_75MS_CNT +1
     000BC2  004D       0-1304                         MOVAR   LED_13_75MS_CNT
     000BC3  0369       0-1305                         SAEQI   #9H                         ;判斷LED_13_75MS_CNT = 8MS * 9次                 
     000BC4  0202 03D2  0-1306                         JMP     LED_14_OPEN
                        0-1307                          
     000BC6  03E0       0-1308                         MOVIA   #0000B                      
     000BC7  004D       0-1309                         MOVAR   LED_13_75MS_CNT             ;LED_13_75MS_CNT 清0     
                        0-1310                         ;--------------------------- 
     000BC8  013B       0-1311                         MOVRA   SCAN_LED_13_TO_16_OS
     000BC9  03A1       0-1312                         XORI    BIT0
     000BCA  003B       0-1313                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_13_OPEN/CLOSE
     000BCB  0202 03D2  0-1314                         JMP     LED_14_OPEN
                        0-1315                         
             [00000BCD] 0-1316         LED_13_CLOSE:
     000BCD  013B       0-1317                         MOVRA   SCAN_LED_13_TO_16_OS
     000BCE  0391       0-1318                         ORI     BIT0
     000BCF  003B       0-1319                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_13_CLOSE                        
     000BD0  0202 03D2  0-1320                         JMP     LED_14_OPEN                 
                        0-1321             ;------------------------------------------
             [00000BD2] 0-1322         LED_14_OPEN:            
     000BD2  014B       0-1323                         MOVRA   KEY_13_TO_16_OS
     000BD3  03D2       0-1324                         SAB1    BIT1
     000BD4  0202 03EA  0-1325                         JMP     LED_14_CLOSE
                        0-1326         
     000BD6  014C       0-1327                         MOVRA   LED_BASE_8MS_FLAG                                    
     000BD7  03D2       0-1328                         SAB1    BIT1                        ;判斷8MS_FLAG(BIT1) 
     000BD8  0202 03EF  0-1329                         JMP     LED_15_OPEN                 ;BIT1=0 => NEXT LED_15_OPEN
                        0-1330                         
     000BDA  014C       0-1331                         MOVRA   LED_BASE_8MS_FLAG           
     000BDB  038D       0-1332                         ANDI    ~BIT1 
     000BDC  004C       0-1333                         MOVAR   LED_BASE_8MS_FLAG           ;BIT1=1 => 10MS_FLAG 清0
                        0-1334                         ;---------------------------
     000BDD  014E       0-1335                         MOVRA   LED_14_75MS_CNT
     000BDE  03F8       0-1336                         INCA                                ;LED_14_75MS_CNT +1
     000BDF  004E       0-1337                         MOVAR   LED_14_75MS_CNT
     000BE0  0369       0-1338                         SAEQI   #9H                         ;判斷LED_14_75MS_CNT = 8MS * 9次 
     000BE1  0202 03EF  0-1339                         JMP     LED_15_OPEN
                        0-1340                          
     000BE3  03E0       0-1341                         MOVIA   #0000B                      
     000BE4  004E       0-1342                         MOVAR   LED_14_75MS_CNT             ;LED_14_75MS_CNT 清0
                        0-1343                         ;--------------------------- 
     000BE5  013B       0-1344                         MOVRA   SCAN_LED_13_TO_16_OS
     000BE6  03A2       0-1345                         XORI    BIT1
     000BE7  003B       0-1346                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_14_OPEN/CLOSE
     000BE8  0202 03EF  0-1347                         JMP     LED_15_OPEN
                        0-1348                                         
             [00000BEA] 0-1349         LED_14_CLOSE:                
     000BEA  013B       0-1350                         MOVRA   SCAN_LED_13_TO_16_OS
     000BEB  0392       0-1351                         ORI     BIT1
     000BEC  003B       0-1352                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_14_CLOSE
     000BED  0202 03EF  0-1353                         JMP     LED_15_OPEN                                 
                        0-1354              ;-------------------------------------------                
             [00000BEF] 0-1355         LED_15_OPEN:            
     000BEF  014B       0-1356                         MOVRA   KEY_13_TO_16_OS
     000BF0  03D4       0-1357                         SAB1    BIT2
     000BF1  0203 0007  0-1358                         JMP     LED_15_CLOSE
                        0-1359         
     000BF3  014C       0-1360                         MOVRA   LED_BASE_8MS_FLAG                                    
     000BF4  03D4       0-1361                         SAB1    BIT2                        ;判斷8MS_FLAG(BIT2) 
     000BF5  0203 000C  0-1362                         JMP     LED_16_OPEN                 ;BIT2=0 => NEXT LED_16_OPEN
                        0-1363                         
     000BF7  014C       0-1364                         MOVRA   LED_BASE_8MS_FLAG           
     000BF8  038B       0-1365                         ANDI    ~BIT2 
     000BF9  004C       0-1366                         MOVAR   LED_BASE_8MS_FLAG           ;BIT2=1 => 10MS_FLAG 清0
                        0-1367                         ;---------------------------
     000BFA  014F       0-1368                         MOVRA   LED_15_75MS_CNT
     000BFB  03F8       0-1369                         INCA                                ;LED_15_75MS_CNT +1
     000BFC  004F       0-1370                         MOVAR   LED_15_75MS_CNT
     000BFD  0369       0-1371                         SAEQI   #9H                         ;判斷LED_15_75MS_CNT = 8MS * 9次 
     000BFE  0203 000C  0-1372                         JMP     LED_16_OPEN
                        0-1373                          
     000C00  03E0       0-1374                         MOVIA   #0000B                      
     000C01  004F       0-1375                         MOVAR   LED_15_75MS_CNT             ;LED_15_75MS_CNT 清0
                        0-1376                         ;--------------------------- 
     000C02  013B       0-1377                         MOVRA   SCAN_LED_13_TO_16_OS
     000C03  03A4       0-1378                         XORI    BIT2
     000C04  003B       0-1379                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_15_OPEN/CLOSE
     000C05  0203 000C  0-1380                         JMP     LED_16_OPEN
                        0-1381                                         
             [00000C07] 0-1382         LED_15_CLOSE:                 
     000C07  013B       0-1383                         MOVRA   SCAN_LED_13_TO_16_OS
     000C08  0394       0-1384                         ORI     BIT2
     000C09  003B       0-1385                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_15_CLOSE
     000C0A  0203 000C  0-1386                         JMP     LED_16_OPEN                     
                        0-1387              ;-------------------------------------------                
             [00000C0C] 0-1388         LED_16_OPEN:            
     000C0C  014B       0-1389                         MOVRA   KEY_13_TO_16_OS
     000C0D  03D8       0-1390                         SAB1    BIT3
     000C0E  0203 0024  0-1391                         JMP     LED_16_CLOSE
                        0-1392         
     000C10  014C       0-1393                         MOVRA   LED_BASE_8MS_FLAG                                    
     000C11  03D8       0-1394                         SAB1    BIT3                        ;判斷8MS_FLAG(BIT3) 
     000C12  0203 0029  0-1395                         JMP     OUTPUT_75MS_END             ;BIT3=0 => END
                        0-1396                         
     000C14  014C       0-1397                         MOVRA   LED_BASE_8MS_FLAG           
     000C15  0387       0-1398                         ANDI    ~BIT3 
     000C16  004C       0-1399                         MOVAR   LED_BASE_8MS_FLAG           ;BIT3=1 => 10MS_FLAG 清0
                        0-1400                         ;---------------------------
     000C17  0150       0-1401                         MOVRA   LED_16_75MS_CNT
     000C18  03F8       0-1402                         INCA                                ;LED_16_75MS_CNT +1
     000C19  0050       0-1403                         MOVAR   LED_16_75MS_CNT
     000C1A  0369       0-1404                         SAEQI   #9H                         ;判斷LED_16_75MS_CNT = 8MS * 9次 
     000C1B  0203 0029  0-1405                         JMP     OUTPUT_75MS_END 
     000C1D  03E0       0-1406                         MOVIA   #0000B                      
     000C1E  0050       0-1407                         MOVAR   LED_16_75MS_CNT             ;LED_16_75MS_CNT 清0
                        0-1408                         ;--------------------------- 
     000C1F  013B       0-1409                         MOVRA   SCAN_LED_13_TO_16_OS
     000C20  03A8       0-1410                         XORI    BIT3
     000C21  003B       0-1411                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_16_OPEN/CLOSE
     000C22  0203 0029  0-1412                         JMP     OUTPUT_75MS_END                
             [00000C24] 0-1413         LED_16_CLOSE:                 
     000C24  013B       0-1414                         MOVRA   SCAN_LED_13_TO_16_OS
     000C25  0398       0-1415                         ORI     BIT3
     000C26  003B       0-1416                         MOVAR   SCAN_LED_13_TO_16_OS        ;LED_16_CLOSE
     000C27  0203 0029  0-1417                         JMP     OUTPUT_75MS_END                
             [00000C29] 0-1418         OUTPUT_75MS_END:
     000C29  03FB       0-1419                         RET
                        0-1420         ;===============================================================================                              
             [00000C2A] 0-1421         SPIRAL_LED_START: 
     000C2A  0151       0-1422                         MOVRA   SPECIAL_FLAG
     000C2B  03D2       0-1423                         SAB1    BIT1
     000C2C  0203 0102  0-1424                         JMP     SPIRAL_LED_END
                        0-1425                         
     000C2E  0153       0-1426                         MOVRA   SPIRAL_TMR_CNT
     000C2F  036A       0-1427                         SAEQI   #1010B
     000C30  0203 0102  0-1428                         JMP     SPIRAL_LED_END 
                        0-1429                         
     000C32  03E0       0-1430                         MOVIA   #0000B
     000C33  0053       0-1431                         MOVAR   SPIRAL_TMR_CNT
                        0-1432               
     000C34  0152       0-1433                         MOVRA   SPIRAL_CNT
     000C35  0370       0-1434                         SANEI   #00H               
     000C36  0203 0067  0-1435                         JMP     SPIRAL_LED_0
     000C38  0371       0-1436                         SANEI   #01H
     000C39  0203 006F  0-1437                         JMP     SPIRAL_LED_1
     000C3B  0372       0-1438                         SANEI   #02H
     000C3C  0203 0077  0-1439                         JMP     SPIRAL_LED_2
     000C3E  0373       0-1440                         SANEI   #03H
     000C3F  0203 007F  0-1441                         JMP     SPIRAL_LED_3
     000C41  0374       0-1442                         SANEI   #04H
     000C42  0203 0087  0-1443                         JMP     SPIRAL_LED_4
     000C44  0375       0-1444                         SANEI   #05H
     000C45  0203 0091  0-1445                         JMP     SPIRAL_LED_5
     000C47  0376       0-1446                         SANEI   #06H
     000C48  0203 009B  0-1447                         JMP     SPIRAL_LED_6
     000C4A  0377       0-1448                         SANEI   #07H
     000C4B  0203 00A5  0-1449                         JMP     SPIRAL_LED_7
     000C4D  0378       0-1450                         SANEI   #08H
     000C4E  0203 00AF  0-1451                         JMP     SPIRAL_LED_8
     000C50  0379       0-1452                         SANEI   #09H
     000C51  0203 00B9  0-1453                         JMP     SPIRAL_LED_9
     000C53  037A       0-1454                         SANEI   #0AH
     000C54  0203 00C3  0-1455                         JMP     SPIRAL_LED_10
     000C56  037B       0-1456                         SANEI   #0BH
     000C57  0203 00CD  0-1457                         JMP     SPIRAL_LED_11
     000C59  037C       0-1458                         SANEI   #0CH
     000C5A  0203 00D7  0-1459                         JMP     SPIRAL_LED_12
     000C5C  037D       0-1460                         SANEI   #0DH
     000C5D  0203 00E1  0-1461                         JMP     SPIRAL_LED_13
     000C5F  037E       0-1462                         SANEI   #0EH
     000C60  0203 00EB  0-1463                         JMP     SPIRAL_LED_14
     000C62  037F       0-1464                         SANEI   #0FH
     000C63  0203 00F5  0-1465                         JMP     SPIRAL_LED_15
     000C65  0203 0102  0-1466                         JMP     SPIRAL_LED_END
             [00000C67] 0-1467         SPIRAL_LED_0:
     000C67  03EE       0-1468                         MOVIA   #1110B
     000C68  0038       0-1469                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C69  03EF       0-1470                         MOVIA   #1111B
     000C6A  0039       0-1471                         MOVAR   SCAN_LED_5_TO_8_OS 
     000C6B  003A       0-1472                         MOVAR   SCAN_LED_9_TO_12_OS 
     000C6C  003B       0-1473                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C6D  0203 00FF  0-1474                         JMP     SPIRAL_LED_CNT_INC                
             [00000C6F] 0-1475         SPIRAL_LED_1:
     000C6F  03ED       0-1476                         MOVIA   #1101B
     000C70  0038       0-1477                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C71  03EF       0-1478                         MOVIA   #1111B
     000C72  0039       0-1479                         MOVAR   SCAN_LED_5_TO_8_OS 
     000C73  003A       0-1480                         MOVAR   SCAN_LED_9_TO_12_OS 
     000C74  003B       0-1481                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C75  0203 00FF  0-1482                         JMP     SPIRAL_LED_CNT_INC
             [00000C77] 0-1483         SPIRAL_LED_2:
     000C77  03EB       0-1484                         MOVIA   #1011B
     000C78  0038       0-1485                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C79  03EF       0-1486                         MOVIA   #1111B
     000C7A  0039       0-1487                         MOVAR   SCAN_LED_5_TO_8_OS 
     000C7B  003A       0-1488                         MOVAR   SCAN_LED_9_TO_12_OS 
     000C7C  003B       0-1489                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C7D  0203 00FF  0-1490                         JMP     SPIRAL_LED_CNT_INC
             [00000C7F] 0-1491         SPIRAL_LED_3:
     000C7F  03E7       0-1492                         MOVIA   #0111B
     000C80  0038       0-1493                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C81  03EF       0-1494                         MOVIA   #1111B
     000C82  0039       0-1495                         MOVAR   SCAN_LED_5_TO_8_OS 
     000C83  003A       0-1496                         MOVAR   SCAN_LED_9_TO_12_OS 
     000C84  003B       0-1497                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C85  0203 00FF  0-1498                         JMP     SPIRAL_LED_CNT_INC
             [00000C87] 0-1499         SPIRAL_LED_4:
     000C87  03EF       0-1500                         MOVIA   #1111B
     000C88  0038       0-1501                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C89  03E7       0-1502                         MOVIA   #0111B
     000C8A  0039       0-1503                         MOVAR   SCAN_LED_5_TO_8_OS
     000C8B  03EF       0-1504                         MOVIA   #1111B 
     000C8C  003A       0-1505                         MOVAR   SCAN_LED_9_TO_12_OS
     000C8D  03EF       0-1506                         MOVIA   #1111B 
     000C8E  003B       0-1507                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C8F  0203 00FF  0-1508                         JMP     SPIRAL_LED_CNT_INC
             [00000C91] 0-1509         SPIRAL_LED_5:
     000C91  03EF       0-1510                         MOVIA   #1111B
     000C92  0038       0-1511                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C93  03EF       0-1512                         MOVIA   #1111B
     000C94  0039       0-1513                         MOVAR   SCAN_LED_5_TO_8_OS
     000C95  03E7       0-1514                         MOVIA   #0111B 
     000C96  003A       0-1515                         MOVAR   SCAN_LED_9_TO_12_OS
     000C97  03EF       0-1516                         MOVIA   #1111B 
     000C98  003B       0-1517                         MOVAR   SCAN_LED_13_TO_16_OS 
     000C99  0203 00FF  0-1518                         JMP     SPIRAL_LED_CNT_INC
             [00000C9B] 0-1519         SPIRAL_LED_6:
     000C9B  03EF       0-1520                         MOVIA   #1111B
     000C9C  0038       0-1521                         MOVAR   SCAN_LED_1_TO_4_OS                
     000C9D  03EF       0-1522                         MOVIA   #1111B
     000C9E  0039       0-1523                         MOVAR   SCAN_LED_5_TO_8_OS
     000C9F  03EF       0-1524                         MOVIA   #1111B 
     000CA0  003A       0-1525                         MOVAR   SCAN_LED_9_TO_12_OS
     000CA1  03E7       0-1526                         MOVIA   #0111B 
     000CA2  003B       0-1527                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CA3  0203 00FF  0-1528                         JMP     SPIRAL_LED_CNT_INC
             [00000CA5] 0-1529         SPIRAL_LED_7:
     000CA5  03EF       0-1530                         MOVIA   #1111B
     000CA6  0038       0-1531                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CA7  03EF       0-1532                         MOVIA   #1111B
     000CA8  0039       0-1533                         MOVAR   SCAN_LED_5_TO_8_OS
     000CA9  03EF       0-1534                         MOVIA   #1111B 
     000CAA  003A       0-1535                         MOVAR   SCAN_LED_9_TO_12_OS
     000CAB  03EB       0-1536                         MOVIA   #1011B 
     000CAC  003B       0-1537                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CAD  0203 00FF  0-1538                         JMP     SPIRAL_LED_CNT_INC
             [00000CAF] 0-1539         SPIRAL_LED_8:
     000CAF  03EF       0-1540                         MOVIA   #1111B
     000CB0  0038       0-1541                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CB1  03EF       0-1542                         MOVIA   #1111B
     000CB2  0039       0-1543                         MOVAR   SCAN_LED_5_TO_8_OS
     000CB3  03EF       0-1544                         MOVIA   #1111B 
     000CB4  003A       0-1545                         MOVAR   SCAN_LED_9_TO_12_OS
     000CB5  03ED       0-1546                         MOVIA   #1101B 
     000CB6  003B       0-1547                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CB7  0203 00FF  0-1548                         JMP     SPIRAL_LED_CNT_INC
             [00000CB9] 0-1549         SPIRAL_LED_9:
     000CB9  03EF       0-1550                         MOVIA   #1111B
     000CBA  0038       0-1551                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CBB  03EF       0-1552                         MOVIA   #1111B
     000CBC  0039       0-1553                         MOVAR   SCAN_LED_5_TO_8_OS
     000CBD  03EF       0-1554                         MOVIA   #1111B 
     000CBE  003A       0-1555                         MOVAR   SCAN_LED_9_TO_12_OS
     000CBF  03EE       0-1556                         MOVIA   #1110B 
     000CC0  003B       0-1557                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CC1  0203 00FF  0-1558                         JMP     SPIRAL_LED_CNT_INC
             [00000CC3] 0-1559         SPIRAL_LED_10:
     000CC3  03EF       0-1560                         MOVIA   #1111B
     000CC4  0038       0-1561                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CC5  03EF       0-1562                         MOVIA   #1111B
     000CC6  0039       0-1563                         MOVAR   SCAN_LED_5_TO_8_OS
     000CC7  03EE       0-1564                         MOVIA   #1110B 
     000CC8  003A       0-1565                         MOVAR   SCAN_LED_9_TO_12_OS
     000CC9  03EF       0-1566                         MOVIA   #1111B 
     000CCA  003B       0-1567                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CCB  0203 00FF  0-1568                         JMP     SPIRAL_LED_CNT_INC
             [00000CCD] 0-1569         SPIRAL_LED_11:
     000CCD  03EF       0-1570                         MOVIA   #1111B
     000CCE  0038       0-1571                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CCF  03EE       0-1572                         MOVIA   #1110B
     000CD0  0039       0-1573                         MOVAR   SCAN_LED_5_TO_8_OS
     000CD1  03EF       0-1574                         MOVIA   #1111B 
     000CD2  003A       0-1575                         MOVAR   SCAN_LED_9_TO_12_OS
     000CD3  03EF       0-1576                         MOVIA   #1111B 
     000CD4  003B       0-1577                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CD5  0203 00FF  0-1578                         JMP     SPIRAL_LED_CNT_INC
             [00000CD7] 0-1579         SPIRAL_LED_12:
     000CD7  03EF       0-1580                         MOVIA   #1111B
     000CD8  0038       0-1581                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CD9  03ED       0-1582                         MOVIA   #1101B
     000CDA  0039       0-1583                         MOVAR   SCAN_LED_5_TO_8_OS
     000CDB  03EF       0-1584                         MOVIA   #1111B 
     000CDC  003A       0-1585                         MOVAR   SCAN_LED_9_TO_12_OS
     000CDD  03EF       0-1586                         MOVIA   #1111B 
     000CDE  003B       0-1587                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CDF  0203 00FF  0-1588                         JMP     SPIRAL_LED_CNT_INC
             [00000CE1] 0-1589         SPIRAL_LED_13:
     000CE1  03EF       0-1590                         MOVIA   #1111B
     000CE2  0038       0-1591                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CE3  03EB       0-1592                         MOVIA   #1011B
     000CE4  0039       0-1593                         MOVAR   SCAN_LED_5_TO_8_OS
     000CE5  03EF       0-1594                         MOVIA   #1111B 
     000CE6  003A       0-1595                         MOVAR   SCAN_LED_9_TO_12_OS
     000CE7  03EF       0-1596                         MOVIA   #1111B 
     000CE8  003B       0-1597                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CE9  0203 00FF  0-1598                         JMP     SPIRAL_LED_CNT_INC
             [00000CEB] 0-1599         SPIRAL_LED_14:
     000CEB  03EF       0-1600                         MOVIA   #1111B
     000CEC  0038       0-1601                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CED  03EF       0-1602                         MOVIA   #1111B
     000CEE  0039       0-1603                         MOVAR   SCAN_LED_5_TO_8_OS
     000CEF  03EB       0-1604                         MOVIA   #1011B 
     000CF0  003A       0-1605                         MOVAR   SCAN_LED_9_TO_12_OS
     000CF1  03EF       0-1606                         MOVIA   #1111B 
     000CF2  003B       0-1607                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CF3  0203 00FF  0-1608                         JMP     SPIRAL_LED_CNT_INC
             [00000CF5] 0-1609         SPIRAL_LED_15:
     000CF5  03EF       0-1610                         MOVIA   #1111B
     000CF6  0038       0-1611                         MOVAR   SCAN_LED_1_TO_4_OS                
     000CF7  03EF       0-1612                         MOVIA   #1111B
     000CF8  0039       0-1613                         MOVAR   SCAN_LED_5_TO_8_OS
     000CF9  03ED       0-1614                         MOVIA   #1101B 
     000CFA  003A       0-1615                         MOVAR   SCAN_LED_9_TO_12_OS
     000CFB  03EF       0-1616                         MOVIA   #1111B 
     000CFC  003B       0-1617                         MOVAR   SCAN_LED_13_TO_16_OS 
     000CFD  0203 00FF  0-1618                         JMP     SPIRAL_LED_CNT_INC
             [00000CFF] 0-1619         SPIRAL_LED_CNT_INC:
     000CFF  0152       0-1620                         MOVRA   SPIRAL_CNT
     000D00  03F8       0-1621                         INCA
     000D01  0052       0-1622                         MOVAR   SPIRAL_CNT
             [00000D02] 0-1623         SPIRAL_LED_END:
     000D02  03FB       0-1624                         RET                                                                               
                        0-1625         ;===============================================================================
             [00000D03] 0-1626         CIRCLE_FORK_START:
     000D03  0151       0-1627                         MOVRA   SPECIAL_FLAG
     000D04  03D4       0-1628                         SAB1    BIT2
     000D05  0203 0121  0-1629                         JMP     CIRCLE_FORK_END
                        0-1630         
     000D07  013E       0-1631                         MOVRA   KEY4_TIMER_FLAG_CONTROL
     000D08  03D8       0-1632                         SAB1    BIT3
     000D09  0203 010D  0-1633                         JMP     CIRCLE
     000D0B  0203 0117  0-1634                         JMP     FORK               
             [00000D0D] 0-1635         CIRCLE:                
     000D0D  03E9       0-1636                         MOVIA   #1001B
     000D0E  0038       0-1637                         MOVAR   SCAN_LED_1_TO_4_OS                
     000D0F  03E6       0-1638                         MOVIA   #0110B
     000D10  0039       0-1639                         MOVAR   SCAN_LED_5_TO_8_OS 
     000D11  03E6       0-1640                         MOVIA   #0110B
     000D12  003A       0-1641                         MOVAR   SCAN_LED_9_TO_12_OS 
     000D13  03E9       0-1642                         MOVIA   #1001B
     000D14  003B       0-1643                         MOVAR   SCAN_LED_13_TO_16_OS 
     000D15  0203 0121  0-1644                         JMP     CIRCLE_FORK_END                              
             [00000D17] 0-1645         FORK:
     000D17  03E6       0-1646                         MOVIA   #0110B
     000D18  0038       0-1647                         MOVAR   SCAN_LED_1_TO_4_OS                
     000D19  03E9       0-1648                         MOVIA   #1001B
     000D1A  0039       0-1649                         MOVAR   SCAN_LED_5_TO_8_OS 
     000D1B  03E9       0-1650                         MOVIA   #1001B
     000D1C  003A       0-1651                         MOVAR   SCAN_LED_9_TO_12_OS 
     000D1D  03E6       0-1652                         MOVIA   #0110B
     000D1E  003B       0-1653                         MOVAR   SCAN_LED_13_TO_16_OS 
     000D1F  0203 0121  0-1654                         JMP     CIRCLE_FORK_END
             [00000D21] 0-1655         CIRCLE_FORK_END:
     000D21  03FB       0-1656                         RET
                        0-1657         ;===============================================================================
             [00000D22] 0-1658         SCAN_LED_START:
     000D22  0124       0-1659                         MOVRA   LED_SCAN_DELAY_CNT
     000D23  0362       0-1660                         SAEQI   #02H                    ;2MS*2=4MS
     000D24  0203 0159  0-1661                         JMP     SCAN_LED_END
     000D26  03E0       0-1662                         MOVIA   #0000B              
     000D27  000B       0-1663                         MOVAR   PRC                     ;#0000B=>PRC (切換前先把PRC輸出LO)
     000D28  0203 012A  0-1664                         JMP     SCAN_LED_CHECK
             [00000D2A] 0-1665         SCAN_LED_CHECK:
     000D2A  0137       0-1666                         MOVRA   LED_SCAN_LINE_CNT
             [00000D2B] 0-1667         SCAN_LED_1_ROW:   
     000D2B  0360       0-1668                         SAEQI   #00H                    ;BIT[0]為1，第一排燈 
     000D2C  0203 0133  0-1669                         JMP     SCAN_LED_2_ROW      
     000D2E  0138       0-1670                         MOVRA   SCAN_LED_1_TO_4_OS
     000D2F  000E       0-1671                         MOVAR   PRD
     000D30  03E1       0-1672                         MOVIA   #0001B
     000D31  0203 014B  0-1673                         JMP     LED_SCAN_LINE_CNT_INC                
             [00000D33] 0-1674         SCAN_LED_2_ROW:
     000D33  0361       0-1675                         SAEQI   #01H                    ;BIT[1]為1，第二排燈
     000D34  0203 013B  0-1676                         JMP     SCAN_LED_3_ROW     
     000D36  0139       0-1677                         MOVRA   SCAN_LED_5_TO_8_OS
     000D37  000E       0-1678                         MOVAR   PRD
     000D38  03E2       0-1679                         MOVIA   #0010B
     000D39  0203 014B  0-1680                         JMP     LED_SCAN_LINE_CNT_INC              
             [00000D3B] 0-1681         SCAN_LED_3_ROW:
     000D3B  0362       0-1682                         SAEQI   #02H                    ;BIT[2]為1，第三排燈
     000D3C  0203 0143  0-1683                         JMP     SCAN_LED_4_ROW     
     000D3E  013A       0-1684                         MOVRA   SCAN_LED_9_TO_12_OS
     000D3F  000E       0-1685                         MOVAR   PRD
     000D40  03E4       0-1686                         MOVIA   #0100B
     000D41  0203 014B  0-1687                         JMP     LED_SCAN_LINE_CNT_INC          
             [00000D43] 0-1688         SCAN_LED_4_ROW:
     000D43  0363       0-1689                         SAEQI   #03H                    ;BIT[3]為1，第四排燈
     000D44  0203 012B  0-1690                         JMP     SCAN_LED_1_ROW
     000D46  013B       0-1691                         MOVRA   SCAN_LED_13_TO_16_OS     
     000D47  000E       0-1692                         MOVAR   PRD
     000D48  03E8       0-1693                         MOVIA   #1000B
     000D49  0203 014B  0-1694                         JMP     LED_SCAN_LINE_CNT_INC               
                        0-1695                         ;---------------------------     
             [00000D4B] 0-1696         LED_SCAN_LINE_CNT_INC:
     000D4B  000B       0-1697                         MOVAR   PRC
                        0-1698                         ;----------
     000D4C  0137       0-1699                         MOVRA   LED_SCAN_LINE_CNT
     000D4D  03F8       0-1700                         INCA
     000D4E  0037       0-1701                         MOVAR   LED_SCAN_LINE_CNT
     000D4F  0364       0-1702                         SAEQI   #04H
     000D50  0203 0157  0-1703                         JMP     SCAN_LED_DELAY_RESET
     000D52  03E0       0-1704                         MOVIA   #0000B
     000D53  0037       0-1705                         MOVAR   LED_SCAN_LINE_CNT
                        0-1706                         ;螺旋 
     000D54  0153       0-1707                         MOVRA   SPIRAL_TMR_CNT
     000D55  03F8       0-1708                         INCA
     000D56  0053       0-1709                         MOVAR   SPIRAL_TMR_CNT               
                        0-1710                         ;TEST
                        0-1711         ;----------------------------------------------         
             [00000D57] 0-1712         SCAN_LED_DELAY_RESET:
     000D57  03E0       0-1713                         MOVIA   #0000B
     000D58  0024       0-1714                         MOVAR   LED_SCAN_DELAY_CNT
             [00000D59] 0-1715         SCAN_LED_END:
     000D59  03FB       0-1716                         RET               
                        0-1717         ;===============================================================================
             [00000D5A] 0-1718         INIT_DELAY_TMR:
     000D5A  03E1       0-1719                         MOVIA   #01H
     000D5B  0001       0-1720                         MOVAR   PERI    ;SET PERI (INTON : EN-ABLE)
     000D5C  03F4       0-1721                         CLRWDT
             [00000D5D] 0-1722         INIT_DELAY_TMR_LOOP:
                        0-1723         
     000D5D  0101       0-1724                         MOVRA   PERI
     000D5E  0388       0-1725                         ANDI    #1000B
     000D5F  03D8       0-1726                         SAB1    #1000B
     000D60  0203 015D  0-1727                         JMP     INIT_DELAY_TMR_LOOP
                        0-1728                         ;每2MS進來1次                
     000D62  03E0       0-1729                         MOVIA   #00H
     000D63  0001       0-1730                         MOVAR   PERI    ;SET PERI (INTON : DIS-ABLE)
     000D64  03F4       0-1731                         CLRWDT
             [00000D65] 0-1732         INIT_DELAY_TMR_END:
     000D65  03FB       0-1733                         RET
                        0-1734         ;===============================================================================
             [00000D66] 0-1735         CLEAR_RAM_ALL:
                        0-1736         ;-------------------------------------------------------------------------------
     000D66  03E0       0-1737                         MOVIA   #00H
                        0-1738                         ;RESET WORKING SRAM
     000D67  0018       0-1739                         MOVAR   18H
     000D68  0019       0-1740                         MOVAR   19H
     000D69  001A       0-1741                         MOVAR   1AH
     000D6A  001B       0-1742                         MOVAR   1BH
     000D6B  001C       0-1743                         MOVAR   1CH
     000D6C  001D       0-1744                         MOVAR   1DH
     000D6D  001E       0-1745                         MOVAR   1EH
     000D6E  001F       0-1746                         MOVAR   1FH
     000D6F  0020       0-1747                         MOVAR   20H
     000D70  0021       0-1748                         MOVAR   21H
     000D71  0022       0-1749                         MOVAR   22H
     000D72  0023       0-1750                         MOVAR   23H
     000D73  0024       0-1751                         MOVAR   24H
     000D74  0025       0-1752                         MOVAR   25H
     000D75  0026       0-1753                         MOVAR   26H
     000D76  0027       0-1754                         MOVAR   27H
     000D77  0028       0-1755                         MOVAR   28H
     000D78  0029       0-1756                         MOVAR   29H
     000D79  002A       0-1757                         MOVAR   2AH
     000D7A  002B       0-1758                         MOVAR   2BH
     000D7B  002C       0-1759                         MOVAR   2CH
     000D7C  002D       0-1760                         MOVAR   2DH
     000D7D  002E       0-1761                         MOVAR   2EH
     000D7E  002F       0-1762                         MOVAR   2FH
                        0-1763                         ;END WORKING SRAM
                        0-1764         ;-------------------------------------------------------------------------------
                        0-1765                         ;RESET GENERAL SRAM
     000D7F  0030       0-1766                         MOVAR   30H
     000D80  0031       0-1767                         MOVAR   31H
     000D81  0032       0-1768                         MOVAR   32H
     000D82  0033       0-1769                         MOVAR   33H
     000D83  0034       0-1770                         MOVAR   34H
     000D84  0035       0-1771                         MOVAR   35H
     000D85  0036       0-1772                         MOVAR   36H
     000D86  0037       0-1773                         MOVAR   37H
     000D87  0038       0-1774                         MOVAR   38H
     000D88  0039       0-1775                         MOVAR   39H
     000D89  003A       0-1776                         MOVAR   3AH
     000D8A  003B       0-1777                         MOVAR   3BH
     000D8B  003C       0-1778                         MOVAR   3CH
     000D8C  003D       0-1779                         MOVAR   3DH
     000D8D  003E       0-1780                         MOVAR   3EH
     000D8E  003F       0-1781                         MOVAR   3FH
     000D8F  0040       0-1782                         MOVAR   40H
     000D90  0041       0-1783                         MOVAR   41H
     000D91  0042       0-1784                         MOVAR   42H
     000D92  0043       0-1785                         MOVAR   43H
     000D93  0044       0-1786                         MOVAR   44H
     000D94  0045       0-1787                         MOVAR   45H
     000D95  0046       0-1788                         MOVAR   46H
     000D96  0047       0-1789                         MOVAR   47H
     000D97  0048       0-1790                         MOVAR   48H
     000D98  0049       0-1791                         MOVAR   49H
     000D99  004A       0-1792                         MOVAR   4AH
     000D9A  004B       0-1793                         MOVAR   4BH
     000D9B  004C       0-1794                         MOVAR   4CH
     000D9C  004D       0-1795                         MOVAR   4DH
     000D9D  004E       0-1796                         MOVAR   4EH
     000D9E  004F       0-1797                         MOVAR   4FH
     000D9F  0050       0-1798                         MOVAR   50H
     000DA0  0051       0-1799                         MOVAR   51H
     000DA1  0052       0-1800                         MOVAR   52H
     000DA2  0053       0-1801                         MOVAR   53H
     000DA3  0054       0-1802                         MOVAR   54H
     000DA4  0055       0-1803                         MOVAR   55H
     000DA5  0056       0-1804                         MOVAR   56H
     000DA6  0057       0-1805                         MOVAR   57H
     000DA7  0058       0-1806                         MOVAR   58H
     000DA8  0059       0-1807                         MOVAR   59H
     000DA9  005A       0-1808                         MOVAR   5AH
     000DAA  005B       0-1809                         MOVAR   5BH
     000DAB  005C       0-1810                         MOVAR   5CH
     000DAC  005D       0-1811                         MOVAR   5DH
     000DAD  005E       0-1812                         MOVAR   5EH
     000DAE  005F       0-1813                         MOVAR   5FH
     000DAF  0060       0-1814                         MOVAR   60H
     000DB0  0061       0-1815                         MOVAR   61H
     000DB1  0062       0-1816                         MOVAR   62H
     000DB2  0063       0-1817                         MOVAR   63H
     000DB3  0064       0-1818                         MOVAR   64H
     000DB4  0065       0-1819                         MOVAR   65H
     000DB5  0066       0-1820                         MOVAR   66H
     000DB6  0067       0-1821                         MOVAR   67H
     000DB7  0068       0-1822                         MOVAR   68H
     000DB8  0069       0-1823                         MOVAR   69H
     000DB9  006A       0-1824                         MOVAR   6AH
     000DBA  006B       0-1825                         MOVAR   6BH
     000DBB  006C       0-1826                         MOVAR   6CH
     000DBC  006D       0-1827                         MOVAR   6DH
     000DBD  006E       0-1828                         MOVAR   6EH
     000DBE  006F       0-1829                         MOVAR   6FH
     000DBF  0070       0-1830                         MOVAR   70H
     000DC0  0071       0-1831                         MOVAR   71H
     000DC1  0072       0-1832                         MOVAR   72H
     000DC2  0073       0-1833                         MOVAR   73H
     000DC3  0074       0-1834                         MOVAR   74H
     000DC4  0075       0-1835                         MOVAR   75H
     000DC5  0076       0-1836                         MOVAR   76H
     000DC6  0077       0-1837                         MOVAR   77H
     000DC7  0078       0-1838                         MOVAR   78H
     000DC8  0079       0-1839                         MOVAR   79H
     000DC9  007A       0-1840                         MOVAR   7AH
     000DCA  007B       0-1841                         MOVAR   7BH
     000DCB  007C       0-1842                         MOVAR   7CH
     000DCC  007D       0-1843                         MOVAR   7DH
     000DCD  007E       0-1844                         MOVAR   7EH
     000DCE  007F       0-1845                         MOVAR   7FH
     000DCF  0080       0-1846                         MOVAR   80H
     000DD0  0081       0-1847                         MOVAR   81H
     000DD1  0082       0-1848                         MOVAR   82H
     000DD2  0083       0-1849                         MOVAR   83H
     000DD3  0084       0-1850                         MOVAR   84H
     000DD4  0085       0-1851                         MOVAR   85H
     000DD5  0086       0-1852                         MOVAR   86H
     000DD6  0087       0-1853                         MOVAR   87H
     000DD7  0088       0-1854                         MOVAR   88H
     000DD8  0089       0-1855                         MOVAR   89H
     000DD9  008A       0-1856                         MOVAR   8AH
     000DDA  008B       0-1857                         MOVAR   8BH
     000DDB  008C       0-1858                         MOVAR   8CH
     000DDC  008D       0-1859                         MOVAR   8DH
     000DDD  008E       0-1860                         MOVAR   8EH
     000DDE  008F       0-1861                         MOVAR   8FH     
                        0-1862                         ;END GENERAL SRAM
             [00000DDF] 0-1863         CLEAR_RAM_ALL_END:
     000DDF  03FB       0-1864                         RET
                        0-1865         ;===============================================================================                                                                 
                        0-1866         ;***********************
                        0-1867         ; End Of File
                        0-1868         ;***********************
                        0-1869         end


Symbol_Name             Symbol_Value  Symbol_Type
ACC_TEMP1               0000001D      Constant
ACC_TEMP2               0000001E      Constant
BIT0                    00000001      Constant
BIT1                    00000002      Constant
BIT2                    00000004      Constant
BIT3                    00000008      Constant
KEY4_3S_CNT_BIT4        0000003C      Constant
KEY4_3S_CNT_BIT8        0000003D      Constant
KEY4_TIMER_FLAG_CONTROL 0000003E      Constant
KEY_13_TO_16_OS         0000004B      Constant
KEY_5_TO_8_OS           0000003F      Constant
KEY_9_TO_12_OS          00000045      Constant
KEY_DEBOUNCE_CNT        0000001C      Constant
KEY_SCAN_LINE_CNT       00000036      Constant
LED_10_50MS_CNT         00000048      Constant
LED_11_50MS_CNT         00000049      Constant
LED_12_50MS_CNT         0000004A      Constant
LED_13_75MS_CNT         0000004D      Constant
LED_14_75MS_CNT         0000004E      Constant
LED_15_75MS_CNT         0000004F      Constant
LED_16_75MS_CNT         00000050      Constant
LED_5_10MS_CNT          00000041      Constant
LED_6_10MS_CNT          00000042      Constant
LED_7_10MS_CNT          00000043      Constant
LED_8_10MS_CNT          00000044      Constant
LED_9_50MS_CNT          00000047      Constant
LED_BASE_10MS_FLAG      00000046      Constant
LED_BASE_2MS_FLAG       00000040      Constant
LED_BASE_8MS_FLAG       0000004C      Constant
LED_SCAN_DELAY_CNT      00000024      Constant
LED_SCAN_LINE_CNT       00000037      Constant
PORTA_BUFF              00000032      Constant
PORTB_BUFF              00000033      Constant
PORTB_NEWKEY            0000001F      Constant
PORTC_BUFF              00000034      Constant
PORTD_BUFF              00000035      Constant
SCAN_KEY_13_TO_16_OLDKEY00000023      Constant
SCAN_KEY_1_TO_4_OLDKEY  00000020      Constant
SCAN_KEY_5_TO_8_OLDKEY  00000021      Constant
SCAN_KEY_9_TO_12_OLDKEY 00000022      Constant
SCAN_LED_13_TO_16_OS    0000003B      Constant
SCAN_LED_1_TO_4_OS      00000038      Constant
SCAN_LED_5_TO_8_OS      00000039      Constant
SCAN_LED_9_TO_12_OS     0000003A      Constant
SPECIAL_FLAG            00000051      Constant
SPIRAL_CNT              00000052      Constant
SPIRAL_TMR_CNT          00000053      Constant
STACK_ACC               00000030      Constant
STACK_STATUS            00000031      Constant
TIMER_BASE_2MS_1        00000018      Constant
TIMER_BASE_2MS_2        00000026      Constant
TIMER_BASE_2MS_3        00000027      Constant
TIMER_BASE_40MS_FLAG    0000001B      Constant
TIMER_BASE_4MS_FLAG     00000019      Constant
TIMER_CNT_10MS          00000025      Constant
TIMER_CNT_40MS          0000001A      Constant


File_Index  File_Name
0           C:\Users\EP-ENG0\Desktop\MATRIX_KEY_LED_V9(0510)_key13_16 - 複製.asm
2           C:\Users\EP-ENG0\Desktop\SCOTT - 改版1 - 測試2\SCAN_KEY\5A_SFR.h
1           C:\Users\EP-ENG0\Desktop\SCOTT - 改版1 - 測試2\SCAN_KEY\Obj\MATRIX_KEY_LED_V9(0510)_key13_16 - 複製.lst


Processor Name      = AM5AA340X
ROM Bit Width       = 10 bit
Register Bit Width  = 4 bit
Program ROM         = 0x00000000-0x0000FFFF
Data ROM            = 0x00000000-0x000DFFFF
Reserved Memory     = 0x00000100-0x000001FF
SRAM / SFR          = 0x00000000-0x000000FF

Total Used Program ROM  = 0x00000000

Total Used Data ROM     = 0x00000000

Total Errors            = 0

Total Warning           = 0
